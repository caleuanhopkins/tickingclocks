!function(t,e,r,i){"use strict";function s(e,r){this.element=e,this.settings=t.extend({},a,r),this.settings.clockTimeScaleRatio<=0&&(this.settings.clockTimeScaleRatio=this.settings.clockSize/150),this.settings.clockPinSize<=0&&(this.settings.clockPinSize=2*this.settings.clockTimeScaleRatio),this._defaults=a,this._name=n,this.parts=[],this.init()}var n="tickingClocks",a={timezone:0,clockSize:100,showSeconds:!0,clockBGColor:"#f5f5f5",clockBorderWidth:2,clockBorderColor:"#444444",clockSecondHandColor:"#444444",clockMinuteHandColor:"#444444",clockHourHandColor:"#444444",clockSecondHandWidth:3,clockMinuteHandWidth:4,clockHourHandWidth:5,clockHandLength:6,clockPinColor:"#444444",clockScaleRatio:2,clockPinSize:3,showTimeStrokes:!0,clockTimeScaleRatio:0,clockTimeStrokeColor:"#444444",clockTimeStrokeWidth:2};t.extend(s.prototype,{init:function(){var t=this;this.setup_clock(this.settings,this),this.draw_clock(this.settings.timezone,this),setInterval(function(){t.draw_clock(t.settings.timezone,t)},1e3)},setup_clock:function(t,e){var r=Raphael(e.element.id,t.clockSize,t.clockSize),i=r.circle(t.clockSize/2,t.clockSize/2,t.clockSize/2-2);if(i.attr({fill:t.clockBGColor,stroke:t.clockBorderColor,"stroke-width":t.clockBorderWidth}),t.showTimeStrokes)for(var s,n=0;12>n;n++){var a=t.clockSize/2+Math.round((t.clockSize/2/2+t.clockSize/10)*Math.cos(30*n*Math.PI/180)),o=t.clockSize/2+Math.round((t.clockSize/2/2+t.clockSize/10)*Math.sin(30*n*Math.PI/180)),h=t.clockSize/2+Math.round((t.clockSize/2-t.clockSize/10)*Math.cos(30*n*Math.PI/180)),l=t.clockSize/2+Math.round((t.clockSize/2-t.clockSize/10)*Math.sin(30*n*Math.PI/180));s=r.path("M"+a+" "+o+"L"+h+" "+l),s.attr({stroke:t.clockTimeStrokeColor,"stroke-width":t.clockTimeStrokeWidth})}this.parts.hour_hand=r.path("M"+t.clockSize/2+" "+t.clockSize/2+"L"+t.clockSize/2+" "+t.clockSize/t.clockHandLength/.8),this.parts.hour_hand.attr({stroke:t.clockHourHandColor,"stroke-width":t.clockHourHandWidth}),this.parts.minute_hand=r.path("M"+t.clockSize/2+" "+t.clockSize/2+"L"+t.clockSize/2+" "+t.clockSize/t.clockHandLength/.9),this.parts.minute_hand.attr({stroke:t.clockMinuteHandColor,"stroke-width":t.clockMinuteHandWidth}),t.showSeconds&&(this.parts.second_hand=r.path("M"+t.clockSize/2+" "+(t.clockSize/2+3*t.clockTimeScaleRatio)+"L"+t.clockSize/2+" "+t.clockSize/t.clockHandLength),this.parts.second_hand.attr({stroke:t.clockSecondHandColor,"stroke-width":t.clockSecondHandWidth})),this.parts.pin=r.circle(t.clockSize/2,t.clockSize/t.clockScaleRatio,t.clockSize/3/10),this.parts.pin.attr({fill:t.clockPinColor,stroke:t.clockPinColor})},draw_clock:function(t,e){var r=new Date;r.dst()&&t--;var i=r.getUTCHours()+t,s=r.getUTCMinutes();if(e.settings.showSeconds)var n=r.getUTCSeconds();this.parts.hour_hand.rotate(30*i+s/2.5,e.settings.clockSize/e.settings.clockScaleRatio,e.settings.clockSize/e.settings.clockScaleRatio),this.parts.minute_hand.rotate(6*s,e.settings.clockSize/e.settings.clockScaleRatio,e.settings.clockSize/e.settings.clockScaleRatio),e.settings.showSeconds&&this.parts.second_hand.rotate(6*n,e.settings.clockSize/e.settings.clockScaleRatio,e.settings.clockSize/e.settings.clockScaleRatio)}}),t.fn[n]=function(e){return this.each(function(){t.data(this,"plugin_"+n)||t.data(this,"plugin_"+n,new s(this,e))})}}(jQuery,window,document),Date.prototype.stdTimezoneOffset=function(){var t=new Date(this.getFullYear(),0,1),e=new Date(this.getFullYear(),6,1);return Math.max(t.getTimezoneOffset(),e.getTimezoneOffset())},Date.prototype.dst=function(){return this.getTimezoneOffset()<this.stdTimezoneOffset()},Raphael=function(){function t(){if(t.is(arguments[0],N)){for(var e=arguments[0],r=Lt[d](t,e.splice(0,3+t.is(e[0],M))),i=r.set(),s=0,n=e[S];n>s;s++){var o=e[s]||{};a.test(o.type)&&i[E](r[o.type]().attr(o))}return i}return Lt[d](t,arguments)}function e(t,e,r){function i(){var s=Array[o].slice.call(arguments,0),n=s[w]("►"),a=i.cache=i.cache||{},l=i.count=i.count||[];return a[h](n)?r?r(a[n]):a[n]:(l[S]>=1e3&&delete a[l.shift()],l[E](n),a[n]=t[d](e,s),r?r(a[n]):a[n])}return i}function r(e,r,i,s,n){return n?t.format("M{0},{1}l{2},0a{3},{3},0,0,1,{3},{3}l0,{5}a{3},{3},0,0,1,{4},{3}l{6},0a{3},{3},0,0,1,{4},{4}l0,{7}a{3},{3},0,0,1,{3},{4}z",e+n,r,i-2*n,n,-n,s-2*n,2*n-i,2*n-s):t.format("M{0},{1}l{2},0,0,{3},{4},0z",e,r,i,s,-i)}function i(){return this.x+x+this.y}function s(e){return function(r,i,s,n){var a={back:e};return t.is(s,"function")?n=s:a.rot=s,r&&r.constructor==Nt&&(r=r.attrs.path),r&&(a.along=r),this.animate(a,i,n)}}t.version="1.4.2";var n=/[, ]+/,a=/^(circle|rect|path|ellipse|text|image)$/,o="prototype",h="hasOwnProperty",l=document,c=window,f={was:Object[o][h].call(c,"Raphael"),is:c.Raphael},u=function(){},p="appendChild",d="apply",g="concat",v="createTouch"in l,y="",x=" ",m="split",k="click dblclick mousedown mousemove mouseout mouseover mouseup touchstart touchmove touchend orientationchange touchcancel gesturestart gesturechange gestureend"[m](x),b={mousedown:"touchstart",mousemove:"touchmove",mouseup:"touchend"},w="join",S="length",_=String[o].toLowerCase,z=Math,C=z.max,B=z.min,M="number",T="string",N="array",R="toString",G="fill",A=Object[o][R],H=z.pow,E="push",P=/^(?=[\da-f]$)/,L=/^url\(['"]?([^\)]+?)['"]?\)$/i,q=/^\s*((#[a-f\d]{6})|(#[a-f\d]{3})|rgba?\(\s*([\d\.]+\s*,\s*[\d\.]+\s*,\s*[\d\.]+(?:\s*,\s*[\d\.]+)?)\s*\)|rgba?\(\s*([\d\.]+%\s*,\s*[\d\.]+%\s*,\s*[\d\.]+%(?:\s*,\s*[\d\.]+%))\s*\)|hs[bl]\(\s*([\d\.]+\s*,\s*[\d\.]+\s*,\s*[\d\.]+)\s*\)|hs[bl]\(\s*([\d\.]+%\s*,\s*[\d\.]+%\s*,\s*[\d\.]+%)\s*\))\s*$/i,W=z.round,j="setAttribute",V=parseFloat,F=parseInt,D=" progid:DXImageTransform.Microsoft",O=String[o].toUpperCase,Y={blur:0,"clip-rect":"0 0 1e9 1e9",cursor:"default",cx:0,cy:0,fill:"#fff","fill-opacity":1,font:'10px "Arial"',"font-family":'"Arial"',"font-size":"10","font-style":"normal","font-weight":400,gradient:0,height:0,href:"http://raphaeljs.com/",opacity:1,path:"M0,0",r:0,rotation:0,rx:0,ry:0,scale:"1 1",src:"",stroke:"#000","stroke-dasharray":"","stroke-linecap":"butt","stroke-linejoin":"butt","stroke-miterlimit":0,"stroke-opacity":1,"stroke-width":1,target:"_blank","text-anchor":"middle",title:"Raphael",translation:"0 0",width:0,x:0,y:0},I={along:"along",blur:M,"clip-rect":"csv",cx:M,cy:M,fill:"colour","fill-opacity":M,"font-size":M,height:M,opacity:M,path:"path",r:M,rotation:"csv",rx:M,ry:M,scale:"csv",stroke:"colour","stroke-opacity":M,"stroke-width":M,translation:"csv",width:M,x:M,y:M},X="replace";if(t.type=c.SVGAngle||l.implementation.hasFeature("http://www.w3.org/TR/SVG11/feature#BasicStructure","1.1")?"SVG":"VML","VML"==t.type){var $=l.createElement("div");if($.innerHTML="<!--[if vml]><br><br><![endif]-->",2!=$.childNodes[S])return t.type=null;$=null}t.svg=!(t.vml="VML"==t.type),u[o]=t[o],t._id=0,t._oid=0,t.fn={},t.is=function(t,e){return e=_.call(e),"object"==e&&t===Object(t)||"undefined"==e&&typeof t==e||"null"==e&&null==t||_.call(A.call(t).slice(8,-1))==e},t.setWindow=function(t){c=t,l=c.document};var U=function(r){if(t.vml){var i=/^\s+|\s+$/g;U=e(function(t){var e;t=(t+y)[X](i,y);try{var r=new c.ActiveXObject("htmlfile");r.write("<body>"),r.close(),e=r.body}catch(s){e=c.createPopup().document.body}var n=e.createTextRange();try{e.style.color=t;var a=n.queryCommandValue("ForeColor");return a=(255&a)<<16|65280&a|(16711680&a)>>>16,"#"+("000000"+a[R](16)).slice(-6)}catch(s){return"none"}})}else{var s=l.createElement("i");s.title="Raphaël Colour Picker",s.style.display="none",l.body[p](s),U=e(function(t){return s.style.color=t,l.defaultView.getComputedStyle(s,y).getPropertyValue("color")})}return U(r)},Q=function(){return"hsb("+[this.h,this.s,this.b]+")"},Z=function(){return this.hex};t.hsb2rgb=e(function(e,r,i){t.is(e,"object")&&"h"in e&&"s"in e&&"b"in e&&(i=e.b,r=e.s,e=e.h);var s,n,a;if(0==i)return{r:0,g:0,b:0,hex:"#000"};(e>1||r>1||i>1)&&(e/=255,r/=255,i/=255);var o=~~(6*e),h=6*e-o,l=i*(1-r),c=i*(1-r*h),f=i*(1-r*(1-h));s=[i,c,l,l,f,i,i][o],n=[f,i,i,c,l,l,f][o],a=[l,l,f,i,i,c,l][o],s*=255,n*=255,a*=255;var u={r:s,g:n,b:a,toString:Z},p=(~~s)[R](16),d=(~~n)[R](16),g=(~~a)[R](16);return p=p[X](P,"0"),d=d[X](P,"0"),g=g[X](P,"0"),u.hex="#"+p+d+g,u},t),t.rgb2hsb=e(function(e,r,i){if(t.is(e,"object")&&"r"in e&&"g"in e&&"b"in e&&(i=e.b,r=e.g,e=e.r),t.is(e,T)){var s=t.getRGB(e);e=s.r,r=s.g,i=s.b}(e>1||r>1||i>1)&&(e/=255,r/=255,i/=255);var n,a,o=C(e,r,i),h=B(e,r,i),l=o;if(h==o)return{h:0,s:0,b:o};var c=o-h;return a=c/o,n=e==o?(r-i)/c:r==o?2+(i-e)/c:4+(e-r)/c,n/=6,0>n&&n++,n>1&&n--,{h:n,s:a,b:l,toString:Q}},t);var J=/,?([achlmqrstvxz]),?/gi,K=/\s*,\s*/,tt={hs:1,rg:1};t._path2string=function(){return this.join(",")[X](J,"$1")},t.getRGB=e(function(e){if(!e||(e+=y).indexOf("-")+1)return{r:-1,g:-1,b:-1,hex:"none",error:1};if("none"==e)return{r:-1,g:-1,b:-1,hex:"none"};!(tt[h](e.substring(0,2))||"#"==e.charAt())&&(e=U(e));var r,i,s,n,a,o=e.match(q);if(o){if(o[2]&&(s=F(o[2].substring(5),16),i=F(o[2].substring(3,5),16),r=F(o[2].substring(1,3),16)),o[3]&&(s=F((a=o[3].charAt(3))+a,16),i=F((a=o[3].charAt(2))+a,16),r=F((a=o[3].charAt(1))+a,16)),o[4]&&(o=o[4][m](K),r=V(o[0]),i=V(o[1]),s=V(o[2]),n=V(o[3])),o[5]&&(o=o[5][m](K),r=2.55*V(o[0]),i=2.55*V(o[1]),s=2.55*V(o[2]),n=V(o[3])),o[6])return o=o[6][m](K),r=V(o[0]),i=V(o[1]),s=V(o[2]),t.hsb2rgb(r,i,s);if(o[7])return o=o[7][m](K),r=2.55*V(o[0]),i=2.55*V(o[1]),s=2.55*V(o[2]),t.hsb2rgb(r,i,s);o={r:r,g:i,b:s};var l=(~~r)[R](16),c=(~~i)[R](16),f=(~~s)[R](16);return l=l[X](P,"0"),c=c[X](P,"0"),f=f[X](P,"0"),o.hex="#"+l+c+f,isFinite(V(n))&&(o.o=n),o}return{r:-1,g:-1,b:-1,hex:"none",error:1}},t),t.getColor=function(t){var e=this.getColor.start=this.getColor.start||{h:0,s:1,b:t||.75},r=this.hsb2rgb(e.h,e.s,e.b);return e.h+=.075,e.h>1&&(e.h=0,e.s-=.2,e.s<=0&&(this.getColor.start={h:0,s:1,b:e.b})),r.hex},t.getColor.reset=function(){delete this.start};var et=/([achlmqstvz])[\s,]*((-?\d*\.?\d*(?:e[-+]?\d+)?\s*,?\s*)+)/gi,rt=/(-?\d*\.?\d*(?:e[-+]?\d+)?)\s*,?\s*/gi;t.parsePathString=e(function(e){if(!e)return null;var r={a:7,c:6,h:1,l:2,m:2,q:4,s:4,t:2,v:1,z:0},i=[];return t.is(e,N)&&t.is(e[0],N)&&(i=st(e)),i[S]||(e+y)[X](et,function(t,e,s){var n=[],a=_.call(e);for(s[X](rt,function(t,e){e&&n[E](+e)}),"m"==a&&n[S]>2&&(i[E]([e][g](n.splice(0,2))),a="l",e="m"==e?"l":"L");n[S]>=r[a]&&(i[E]([e][g](n.splice(0,r[a]))),r[a]););}),i[R]=t._path2string,i}),t.findDotsAtSegment=function(t,e,r,i,s,n,a,o,h){var l=1-h,c=H(l,3)*t+3*H(l,2)*h*r+3*l*h*h*s+H(h,3)*a,f=H(l,3)*e+3*H(l,2)*h*i+3*l*h*h*n+H(h,3)*o,u=t+2*h*(r-t)+h*h*(s-2*r+t),p=e+2*h*(i-e)+h*h*(n-2*i+e),d=r+2*h*(s-r)+h*h*(a-2*s+r),g=i+2*h*(n-i)+h*h*(o-2*n+i),v=(1-h)*t+h*r,y=(1-h)*e+h*i,x=(1-h)*s+h*a,m=(1-h)*n+h*o,k=90-180*z.atan((u-d)/(p-g))/z.PI;return(u>d||g>p)&&(k+=180),{x:c,y:f,m:{x:u,y:p},n:{x:d,y:g},start:{x:v,y:y},end:{x:x,y:m},alpha:k}};var it=e(function(t){if(!t)return{x:0,y:0,width:0,height:0};t=ut(t);for(var e,r=0,i=0,s=[],n=[],a=0,o=t[S];o>a;a++)if(e=t[a],"M"==e[0])r=e[1],i=e[2],s[E](r),n[E](i);else{var h=ft(r,i,e[1],e[2],e[3],e[4],e[5],e[6]);s=s[g](h.min.x,h.max.x),n=n[g](h.min.y,h.max.y),r=e[5],i=e[6]}var l=B[d](0,s),c=B[d](0,n);return{x:l,y:c,width:C[d](0,s)-l,height:C[d](0,n)-c}}),st=function(e){var r=[];t.is(e,N)&&t.is(e&&e[0],N)||(e=t.parsePathString(e));for(var i=0,s=e[S];s>i;i++){r[i]=[];for(var n=0,a=e[i][S];a>n;n++)r[i][n]=e[i][n]}return r[R]=t._path2string,r},nt=e(function(e){t.is(e,N)&&t.is(e&&e[0],N)||(e=t.parsePathString(e));var r=[],i=0,s=0,n=0,a=0,o=0;"M"==e[0][0]&&(i=e[0][1],s=e[0][2],n=i,a=s,o++,r[E](["M",i,s]));for(var h=o,l=e[S];l>h;h++){var c=r[h]=[],f=e[h];if(f[0]!=_.call(f[0]))switch(c[0]=_.call(f[0]),c[0]){case"a":c[1]=f[1],c[2]=f[2],c[3]=f[3],c[4]=f[4],c[5]=f[5],c[6]=+(f[6]-i).toFixed(3),c[7]=+(f[7]-s).toFixed(3);break;case"v":c[1]=+(f[1]-s).toFixed(3);break;case"m":n=f[1],a=f[2];default:for(var u=1,p=f[S];p>u;u++)c[u]=+(f[u]-(u%2?i:s)).toFixed(3)}else{c=r[h]=[],"m"==f[0]&&(n=f[1]+i,a=f[2]+s);for(var d=0,g=f[S];g>d;d++)r[h][d]=f[d]}var v=r[h][S];switch(r[h][0]){case"z":i=n,s=a;break;case"h":i+=+r[h][v-1];break;case"v":s+=+r[h][v-1];break;default:i+=+r[h][v-2],s+=+r[h][v-1]}}return r[R]=t._path2string,r},0,st),at=e(function(e){t.is(e,N)&&t.is(e&&e[0],N)||(e=t.parsePathString(e));var r=[],i=0,s=0,n=0,a=0,o=0;"M"==e[0][0]&&(i=+e[0][1],s=+e[0][2],n=i,a=s,o++,r[0]=["M",i,s]);for(var h=o,l=e[S];l>h;h++){var c=r[h]=[],f=e[h];if(f[0]!=O.call(f[0]))switch(c[0]=O.call(f[0]),c[0]){case"A":c[1]=f[1],c[2]=f[2],c[3]=f[3],c[4]=f[4],c[5]=f[5],c[6]=+(f[6]+i),c[7]=+(f[7]+s);break;case"V":c[1]=+f[1]+s;break;case"H":c[1]=+f[1]+i;break;case"M":n=+f[1]+i,a=+f[2]+s;default:for(var u=1,p=f[S];p>u;u++)c[u]=+f[u]+(u%2?i:s)}else for(var d=0,g=f[S];g>d;d++)r[h][d]=f[d];switch(c[0]){case"Z":i=n,s=a;break;case"H":i=c[1];break;case"V":s=c[1];break;default:i=r[h][r[h][S]-2],s=r[h][r[h][S]-1]}}return r[R]=t._path2string,r},null,st),ot=function(t,e,r,i){return[t,e,r,i,r,i]},ht=function(t,e,r,i,s,n){var a=1/3,o=2/3;return[a*t+o*r,a*e+o*i,a*s+o*r,a*n+o*i,s,n]},lt=function(t,r,i,s,n,a,o,h,l,c){var f,u=z.PI,p=120*u/180,d=u/180*(+n||0),v=[],y=e(function(t,e,r){var i=t*z.cos(r)-e*z.sin(r),s=t*z.sin(r)+e*z.cos(r);return{x:i,y:s}});if(c)N=c[0],R=c[1],M=c[2],T=c[3];else{f=y(t,r,-d),t=f.x,r=f.y,f=y(h,l,-d),h=f.x,l=f.y;var x=(z.cos(u/180*n),z.sin(u/180*n),(t-h)/2),k=(r-l)/2,b=x*x/(i*i)+k*k/(s*s);b>1&&(b=z.sqrt(b),i=b*i,s=b*s);var _=i*i,C=s*s,B=(a==o?-1:1)*z.sqrt(z.abs((_*C-_*k*k-C*x*x)/(_*k*k+C*x*x))),M=B*i*k/s+(t+h)/2,T=B*-s*x/i+(r+l)/2,N=z.asin(((r-T)/s).toFixed(7)),R=z.asin(((l-T)/s).toFixed(7));N=M>t?u-N:N,R=M>h?u-R:R,0>N&&(N=2*u+N),0>R&&(R=2*u+R),o&&N>R&&(N-=2*u),!o&&R>N&&(R-=2*u)}var G=R-N;if(z.abs(G)>p){var A=R,H=h,E=l;R=N+p*(o&&R>N?1:-1),h=M+i*z.cos(R),l=T+s*z.sin(R),v=lt(h,l,i,s,n,0,o,H,E,[R,A,M,T])}G=R-N;var P=z.cos(N),L=z.sin(N),q=z.cos(R),W=z.sin(R),j=z.tan(G/4),V=4/3*i*j,F=4/3*s*j,D=[t,r],O=[t+V*L,r-F*P],Y=[h+V*W,l-F*q],I=[h,l];if(O[0]=2*D[0]-O[0],O[1]=2*D[1]-O[1],c)return[O,Y,I][g](v);v=[O,Y,I][g](v)[w]()[m](",");for(var X=[],$=0,U=v[S];U>$;$++)X[$]=$%2?y(v[$-1],v[$],d).y:y(v[$],v[$+1],d).x;return X},ct=function(t,e,r,i,s,n,a,o,h){var l=1-h;return{x:H(l,3)*t+3*H(l,2)*h*r+3*l*h*h*s+H(h,3)*a,y:H(l,3)*e+3*H(l,2)*h*i+3*l*h*h*n+H(h,3)*o}},ft=e(function(t,e,r,i,s,n,a,o){var h,l=s-2*r+t-(a-2*s+r),c=2*(r-t)-2*(s-r),f=t-r,u=(-c+z.sqrt(c*c-4*l*f))/2/l,p=(-c-z.sqrt(c*c-4*l*f))/2/l,g=[e,o],v=[t,a];return z.abs(u)>1e12&&(u=.5),z.abs(p)>1e12&&(p=.5),u>0&&1>u&&(h=ct(t,e,r,i,s,n,a,o,u),v[E](h.x),g[E](h.y)),p>0&&1>p&&(h=ct(t,e,r,i,s,n,a,o,p),v[E](h.x),g[E](h.y)),l=n-2*i+e-(o-2*n+i),c=2*(i-e)-2*(n-i),f=e-i,u=(-c+z.sqrt(c*c-4*l*f))/2/l,p=(-c-z.sqrt(c*c-4*l*f))/2/l,z.abs(u)>1e12&&(u=.5),z.abs(p)>1e12&&(p=.5),u>0&&1>u&&(h=ct(t,e,r,i,s,n,a,o,u),v[E](h.x),g[E](h.y)),p>0&&1>p&&(h=ct(t,e,r,i,s,n,a,o,p),v[E](h.x),g[E](h.y)),{min:{x:B[d](0,v),y:B[d](0,g)},max:{x:C[d](0,v),y:C[d](0,g)}}}),ut=e(function(t,e){for(var r=at(t),i=e&&at(e),s={x:0,y:0,bx:0,by:0,X:0,Y:0,qx:null,qy:null},n={x:0,y:0,bx:0,by:0,X:0,Y:0,qx:null,qy:null},a=(function(t,e){var r,i;if(!t)return["C",e.x,e.y,e.x,e.y,e.x,e.y];switch(!(t[0]in{T:1,Q:1})&&(e.qx=e.qy=null),t[0]){case"M":e.X=t[1],e.Y=t[2];break;case"A":t=["C"][g](lt[d](0,[e.x,e.y][g](t.slice(1))));break;case"S":r=e.x+(e.x-(e.bx||e.x)),i=e.y+(e.y-(e.by||e.y)),t=["C",r,i][g](t.slice(1));break;case"T":e.qx=e.x+(e.x-(e.qx||e.x)),e.qy=e.y+(e.y-(e.qy||e.y)),t=["C"][g](ht(e.x,e.y,e.qx,e.qy,t[1],t[2]));break;case"Q":e.qx=t[1],e.qy=t[2],t=["C"][g](ht(e.x,e.y,t[1],t[2],t[3],t[4]));break;case"L":t=["C"][g](ot(e.x,e.y,t[1],t[2]));break;case"H":t=["C"][g](ot(e.x,e.y,t[1],e.y));break;case"V":t=["C"][g](ot(e.x,e.y,e.x,t[1]));break;case"Z":t=["C"][g](ot(e.x,e.y,e.X,e.Y))}return t}),o=function(t,e){if(t[e][S]>7){t[e].shift();for(var s=t[e];s[S];)t.splice(e++,0,["C"][g](s.splice(0,6)));t.splice(e,1),c=C(r[S],i&&i[S]||0)}},h=function(t,e,s,n,a){t&&e&&"M"==t[a][0]&&"M"!=e[a][0]&&(e.splice(a,0,["M",n.x,n.y]),s.bx=0,s.by=0,s.x=t[a][1],s.y=t[a][2],c=C(r[S],i&&i[S]||0))},l=0,c=C(r[S],i&&i[S]||0);c>l;l++){r[l]=a(r[l],s),o(r,l),i&&(i[l]=a(i[l],n)),i&&o(i,l),h(r,i,s,n,l),h(i,r,n,s,l);var f=r[l],u=i&&i[l],p=f[S],v=i&&u[S];s.x=f[p-2],s.y=f[p-1],s.bx=V(f[p-4])||s.x,s.by=V(f[p-3])||s.y,n.bx=i&&(V(u[v-4])||n.x),n.by=i&&(V(u[v-3])||n.y),n.x=i&&u[v-2],n.y=i&&u[v-1]}return i?[r,i]:r},null,st),pt=e(function(e){for(var r=[],i=0,s=e[S];s>i;i++){var n={},a=e[i].match(/^([^:]*):?([\d\.]*)/);if(n.color=t.getRGB(a[1]),n.color.error)return null;n.color=n.color.hex,a[2]&&(n.offset=a[2]+"%"),r[E](n)}for(i=1,s=r[S]-1;s>i;i++)if(!r[i].offset){for(var o=V(r[i-1].offset||0),h=0,l=i+1;s>l;l++)if(r[l].offset){h=r[l].offset;break}h||(h=100,l=s),h=V(h);for(var c=(h-o)/(l-i+1);l>i;i++)o+=c,r[i].offset=o+"%"}return r}),dt=function(e,r,i,s){var n;return t.is(e,T)||t.is(e,"object")?(n=t.is(e,T)?l.getElementById(e):e,n.tagName?null==r?{container:n,width:n.style.pixelWidth||n.offsetWidth,height:n.style.pixelHeight||n.offsetHeight}:{container:n,width:r,height:i}:void 0):{container:1,x:e,y:r,width:i,height:s}},gt=function(t,e){var r=this;for(var i in e)if(e[h](i)&&!(i in t))switch(typeof e[i]){case"function":!function(e){t[i]=t===r?e:function(){return e[d](r,arguments)}}(e[i]);break;case"object":t[i]=t[i]||{},gt.call(this,t[i],e[i]);break;default:t[i]=e[i]}},vt=function(t,e){t==e.top&&(e.top=t.prev),t==e.bottom&&(e.bottom=t.next),t.next&&(t.next.prev=t.prev),t.prev&&(t.prev.next=t.next)},yt=function(t,e){e.top!==t&&(vt(t,e),t.next=null,t.prev=e.top,e.top.next=t,e.top=t)},xt=function(t,e){e.bottom!==t&&(vt(t,e),t.next=e.bottom,t.prev=null,e.bottom.prev=t,e.bottom=t)},mt=function(t,e,r){vt(t,r),e==r.top&&(r.top=t),e.next&&(e.next.prev=t),t.next=e.next,t.prev=e,e.next=t},kt=function(t,e,r){vt(t,r),e==r.bottom&&(r.bottom=t),e.prev&&(e.prev.next=t),t.prev=e.prev,e.prev=t,t.next=e},bt=function(t){return function(){throw new Error("Raphaël: you are calling to method “"+t+"” of removed object")}},wt=/^r(?:\(([^,]+?)\s*,\s*([^\)]+?)\))?/;if(t.svg){u[o].svgns="http://www.w3.org/2000/svg",u[o].xlink="http://www.w3.org/1999/xlink",W=function(t){return+t+.5*(~~t===t)};var St=function(t,e){if(!e)return t=l.createElementNS(u[o].svgns,t),t.style.webkitTapHighlightColor="rgba(0,0,0,0)",t;for(var r in e)e[h](r)&&t[j](r,e[r]+y)};t[R]=function(){return"Your browser supports SVG.\nYou are running Raphaël "+this.version};var _t=function(t,e){var r=St("path");e.canvas&&e.canvas[p](r);var i=new Nt(r,e);return i.type="path",Bt(i,{fill:"none",stroke:"#000",path:t}),i},zt=function(e,r,i){var s="linear",n=.5,a=.5,o=e.style;if(r=(r+y)[X](wt,function(t,e,r){if(s="radial",e&&r){n=V(e),a=V(r);var i=2*(a>.5)-1;H(n-.5,2)+H(a-.5,2)>.25&&(a=z.sqrt(.25-H(n-.5,2))*i+.5)&&.5!=a&&(a=a.toFixed(5)-1e-5*i)}return y}),r=r[m](/\s*\-\s*/),"linear"==s){var h=r.shift();if(h=-V(h),isNaN(h))return null;var c=[0,0,z.cos(h*z.PI/180),z.sin(h*z.PI/180)],f=1/(C(z.abs(c[2]),z.abs(c[3]))||1);c[2]*=f,c[3]*=f,c[2]<0&&(c[0]=-c[2],c[2]=0),c[3]<0&&(c[1]=-c[3],c[3]=0)}var u=pt(r);if(!u)return null;var d=e.getAttribute(G);d=d.match(/^url\(#(.*)\)$/),d&&i.defs.removeChild(l.getElementById(d[1]));var g=St(s+"Gradient");g.id="r"+(t._id++)[R](36),St(g,"radial"==s?{fx:n,fy:a}:{x1:c[0],y1:c[1],x2:c[2],y2:c[3]}),i.defs[p](g);for(var v=0,x=u[S];x>v;v++){var k=St("stop");St(k,{offset:u[v].offset?u[v].offset:v?"100%":"0%","stop-color":u[v].color||"#fff"}),g[p](k)}return St(e,{fill:"url(#"+g.id+")",opacity:1,"fill-opacity":1}),o.fill=y,o.opacity=1,o.fillOpacity=1,1},Ct=function(e){var r=e.getBBox();St(e.pattern,{patternTransform:t.format("translate({0},{1})",r.x,r.y)})},Bt=function(e,r){var i={"":[0],none:[0],"-":[3,1],".":[1,1],"-.":[3,1,1,1],"-..":[3,1,1,1,1,1],". ":[1,3],"- ":[4,3],"--":[8,3],"- .":[4,3,1,3],"--.":[8,3,1,3],"--..":[8,3,1,3,1,3]},s=e.node,a=e.attrs,o=e.rotate(),c=function(t,e){if(e=i[_.call(e)]){for(var n=t.attrs["stroke-width"]||"1",a={round:n,square:n,butt:0}[t.attrs["stroke-linecap"]||r["stroke-linecap"]]||0,o=[],h=e[S];h--;)o[h]=e[h]*n+(h%2?1:-1)*a;St(s,{"stroke-dasharray":o[w](",")})}};r[h]("rotation")&&(o=r.rotation);var f=(o+y)[m](n);f.length-1?(f[1]=+f[1],f[2]=+f[2]):f=null,V(o)&&e.rotate(0,!0);for(var u in r)if(r[h](u)){if(!Y[h](u))continue;var d=r[u];switch(a[u]=d,u){case"blur":e.blur(d);break;case"rotation":e.rotate(d,!0);break;case"href":case"title":case"target":var g=s.parentNode;if("a"!=_.call(g.tagName)){var v=St("a");g.insertBefore(v,s),v[p](s),g=v}g.setAttributeNS(e.paper.xlink,u,d);break;case"cursor":s.style.cursor=d;break;case"clip-rect":var k=(d+y)[m](n);if(4==k[S]){e.clip&&e.clip.parentNode.parentNode.removeChild(e.clip.parentNode);var b=St("clipPath"),z=St("rect");b.id="r"+(t._id++)[R](36),St(z,{x:k[0],y:k[1],width:k[2],height:k[3]}),b[p](z),e.paper.defs[p](b),St(s,{"clip-path":"url(#"+b.id+")"}),e.clip=z}if(!d){var C=l.getElementById(s.getAttribute("clip-path")[X](/(^url\(#|\)$)/g,y));C&&C.parentNode.removeChild(C),St(s,{"clip-path":y}),delete e.clip}break;case"path":"path"==e.type&&St(s,{d:d?a.path=at(d):"M0,0"});break;case"width":if(s[j](u,d),!a.fx)break;u="x",d=a.x;case"x":a.fx&&(d=-a.x-(a.width||0));case"rx":if("rx"==u&&"rect"==e.type)break;case"cx":f&&("x"==u||"cx"==u)&&(f[1]+=d-a[u]),s[j](u,W(d)),e.pattern&&Ct(e);break;case"height":if(s[j](u,d),!a.fy)break;u="y",d=a.y;case"y":a.fy&&(d=-a.y-(a.height||0));case"ry":if("ry"==u&&"rect"==e.type)break;case"cy":f&&("y"==u||"cy"==u)&&(f[2]+=d-a[u]),s[j](u,W(d)),e.pattern&&Ct(e);break;case"r":"rect"==e.type?St(s,{rx:d,ry:d}):s[j](u,d);break;case"src":"image"==e.type&&s.setAttributeNS(e.paper.xlink,"href",d);break;case"stroke-width":s.style.strokeWidth=d,s[j](u,d),a["stroke-dasharray"]&&c(e,a["stroke-dasharray"]);break;case"stroke-dasharray":c(e,d);break;case"translation":var B=(d+y)[m](n);B[0]=+B[0]||0,B[1]=+B[1]||0,f&&(f[1]+=B[0],f[2]+=B[1]),le.call(e,B[0],B[1]);break;case"scale":B=(d+y)[m](n),e.scale(+B[0]||1,+B[1]||+B[0]||1,isNaN(V(B[2]))?null:+B[2],isNaN(V(B[3]))?null:+B[3]);break;case G:var M=(d+y).match(L);if(M){b=St("pattern");var T=St("image");b.id="r"+(t._id++)[R](36),St(b,{x:0,y:0,patternUnits:"userSpaceOnUse",height:1,width:1}),St(T,{x:0,y:0}),T.setAttributeNS(e.paper.xlink,"href",M[1]),b[p](T);var N=l.createElement("img");N.style.cssText="position:absolute;left:-9999em;top-9999em",N.onload=function(){St(b,{width:this.offsetWidth,height:this.offsetHeight}),St(T,{width:this.offsetWidth,height:this.offsetHeight}),l.body.removeChild(this),e.paper.safari()},l.body[p](N),N.src=M[1],e.paper.defs[p](b),s.style.fill="url(#"+b.id+")",St(s,{fill:"url(#"+b.id+")"}),e.pattern=b,e.pattern&&Ct(e);break}var A=t.getRGB(d);if(A.error){if(({circle:1,ellipse:1}[h](e.type)||"r"!=(d+y).charAt())&&zt(s,d,e.paper)){a.gradient=d,a.fill="none";break}}else delete r.gradient,delete a.gradient,!t.is(a.opacity,"undefined")&&t.is(r.opacity,"undefined")&&St(s,{opacity:a.opacity}),!t.is(a["fill-opacity"],"undefined")&&t.is(r["fill-opacity"],"undefined")&&St(s,{"fill-opacity":a["fill-opacity"]});A[h]("o")&&St(s,{"fill-opacity":A.o/100});case"stroke":A=t.getRGB(d),s[j](u,A.hex),"stroke"==u&&A[h]("o")&&St(s,{"stroke-opacity":A.o/100});break;case"gradient":(({circle:1,ellipse:1})[h](e.type)||"r"!=(d+y).charAt())&&zt(s,d,e.paper);break;case"opacity":case"fill-opacity":if(a.gradient){var H=l.getElementById(s.getAttribute(G)[X](/^url\(#|\)$/g,y));if(H){var E=H.getElementsByTagName("stop");E[E[S]-1][j]("stop-opacity",d)}break}default:"font-size"==u&&(d=F(d,10)+"px");var P=u[X](/(\-.)/g,function(t){return O.call(t.substring(1))});s.style[P]=d,s[j](u,d)}}Tt(e,r),f?e.rotate(f.join(x)):V(o)&&e.rotate(o,!0)},Mt=1.2,Tt=function(t,e){if("text"==t.type&&(e[h]("text")||e[h]("font")||e[h]("font-size")||e[h]("x")||e[h]("y"))){var r=t.attrs,i=t.node,s=i.firstChild?F(l.defaultView.getComputedStyle(i.firstChild,y).getPropertyValue("font-size"),10):10;if(e[h]("text")){for(r.text=e.text;i.firstChild;)i.removeChild(i.firstChild);for(var n=(e.text+y)[m]("\n"),a=0,o=n[S];o>a;a++)if(n[a]){var c=St("tspan");a&&St(c,{dy:s*Mt,x:r.x}),c[p](l.createTextNode(n[a])),i[p](c)}}else for(n=i.getElementsByTagName("tspan"),a=0,o=n[S];o>a;a++)a&&St(n[a],{dy:s*Mt,x:r.x});St(i,{y:r.y});var f=t.getBBox(),u=r.y-(f.y+f.height/2);u&&isFinite(u)&&St(i,{y:r.y+u})}},Nt=function(e,r){this[0]=e,this.id=t._oid++,this.node=e,e.raphael=this,this.paper=r,this.attrs=this.attrs||{},this.transformations=[],this._={tx:0,ty:0,rt:{deg:0,cx:0,cy:0},sx:1,sy:1},!r.bottom&&(r.bottom=this),this.prev=r.top,r.top&&(r.top.next=this),r.top=this,this.next=null};Nt[o].rotate=function(e,r,i){if(this.removed)return this;if(null==e)return this._.rt.cx?[this._.rt.deg,this._.rt.cx,this._.rt.cy][w](x):this._.rt.deg;var s=this.getBBox();return e=(e+y)[m](n),e[S]-1&&(r=V(e[1]),i=V(e[2])),e=V(e[0]),null!=r?this._.rt.deg=e:this._.rt.deg+=e,null==i&&(r=null),this._.rt.cx=r,this._.rt.cy=i,r=null==r?s.x+s.width/2:r,i=null==i?s.y+s.height/2:i,this._.rt.deg?(this.transformations[0]=t.format("rotate({0} {1} {2})",this._.rt.deg,r,i),this.clip&&St(this.clip,{transform:t.format("rotate({0} {1} {2})",-this._.rt.deg,r,i)})):(this.transformations[0]=y,this.clip&&St(this.clip,{transform:y})),St(this.node,{transform:this.transformations[w](x)}),this},Nt[o].hide=function(){return!this.removed&&(this.node.style.display="none"),this},Nt[o].show=function(){return!this.removed&&(this.node.style.display=""),this},Nt[o].remove=function(){if(!this.removed){vt(this,this.paper),this.node.parentNode.removeChild(this.node);for(var t in this)delete this[t];this.removed=!0}},Nt[o].getBBox=function(){if(this.removed)return this;if("path"==this.type)return it(this.attrs.path);if("none"==this.node.style.display){this.show();var t=!0}var e={};try{e=this.node.getBBox()}catch(r){}finally{e=e||{}}if("text"==this.type){e={x:e.x,y:1/0,width:0,height:0};for(var i=0,s=this.node.getNumberOfChars();s>i;i++){var n=this.node.getExtentOfChar(i);n.y<e.y&&(e.y=n.y),n.y+n.height-e.y>e.height&&(e.height=n.y+n.height-e.y),n.x+n.width-e.x>e.width&&(e.width=n.x+n.width-e.x)}}return t&&this.hide(),e},Nt[o].attr=function(e,r){if(this.removed)return this;if(null==e){var i={};for(var s in this.attrs)this.attrs[h](s)&&(i[s]=this.attrs[s]);return this._.rt.deg&&(i.rotation=this.rotate()),(1!=this._.sx||1!=this._.sy)&&(i.scale=this.scale()),i.gradient&&"none"==i.fill&&(i.fill=i.gradient)&&delete i.gradient,i}if(null==r&&t.is(e,T))return"translation"==e?le.call(this):"rotation"==e?this.rotate():"scale"==e?this.scale():e==G&&"none"==this.attrs.fill&&this.attrs.gradient?this.attrs.gradient:this.attrs[e];if(null==r&&t.is(e,N)){for(var n={},a=0,o=e.length;o>a;a++)n[e[a]]=this.attr(e[a]);return n}if(null!=r){var l={};l[e]=r,Bt(this,l)}else null!=e&&t.is(e,"object")&&Bt(this,e);return this},Nt[o].toFront=function(){if(this.removed)return this;this.node.parentNode[p](this.node);var t=this.paper;return t.top!=this&&yt(this,t),this},Nt[o].toBack=function(){if(this.removed)return this;if(this.node.parentNode.firstChild!=this.node){this.node.parentNode.insertBefore(this.node,this.node.parentNode.firstChild),xt(this,this.paper);this.paper}return this},Nt[o].insertAfter=function(t){if(this.removed)return this;var e=t.node;return e.nextSibling?e.parentNode.insertBefore(this.node,e.nextSibling):e.parentNode[p](this.node),mt(this,t,this.paper),this},Nt[o].insertBefore=function(t){if(this.removed)return this;var e=t.node;return e.parentNode.insertBefore(this.node,e),kt(this,t,this.paper),this},Nt[o].blur=function(e){var r=this;if(0!==+e){var i=St("filter"),s=St("feGaussianBlur");r.attrs.blur=e,i.id="r"+(t._id++)[R](36),St(s,{stdDeviation:+e||1.5}),i.appendChild(s),r.paper.defs.appendChild(i),r._blur=i,St(r.node,{filter:"url(#"+i.id+")"})}else r._blur&&(r._blur.parentNode.removeChild(r._blur),delete r._blur,delete r.attrs.blur),r.node.removeAttribute("filter")};var Rt=function(t,e,r,i){e=W(e),r=W(r);var s=St("circle");t.canvas&&t.canvas[p](s);var n=new Nt(s,t);return n.attrs={cx:e,cy:r,r:i,fill:"none",stroke:"#000"},n.type="circle",St(s,n.attrs),n},Gt=function(t,e,r,i,s,n){e=W(e),r=W(r);var a=St("rect");t.canvas&&t.canvas[p](a);var o=new Nt(a,t);return o.attrs={x:e,y:r,width:i,height:s,r:n||0,rx:n||0,ry:n||0,fill:"none",stroke:"#000"},o.type="rect",St(a,o.attrs),o},At=function(t,e,r,i,s){e=W(e),r=W(r);var n=St("ellipse");t.canvas&&t.canvas[p](n);var a=new Nt(n,t);return a.attrs={cx:e,cy:r,rx:i,ry:s,fill:"none",stroke:"#000"},a.type="ellipse",St(n,a.attrs),a},Ht=function(t,e,r,i,s,n){var a=St("image");St(a,{x:r,y:i,width:s,height:n,preserveAspectRatio:"none"}),a.setAttributeNS(t.xlink,"href",e),t.canvas&&t.canvas[p](a);var o=new Nt(a,t);return o.attrs={x:r,y:i,width:s,height:n,src:e},o.type="image",o},Et=function(t,e,r,i){var s=St("text");St(s,{x:e,y:r,"text-anchor":"middle"}),t.canvas&&t.canvas[p](s);var n=new Nt(s,t);return n.attrs={x:e,y:r,"text-anchor":"middle",text:i,font:Y.font,stroke:"none",fill:"#000"},n.type="text",Bt(n,n.attrs),n},Pt=function(t,e){return this.width=t||this.width,this.height=e||this.height,this.canvas[j]("width",this.width),this.canvas[j]("height",this.height),this},Lt=function(){var e=dt[d](0,arguments),r=e&&e.container,i=e.x,s=e.y,n=e.width,a=e.height;if(!r)throw new Error("SVG container not found.");var o=St("svg");return i=i||0,s=s||0,n=n||512,a=a||342,St(o,{xmlns:"http://www.w3.org/2000/svg",version:1.1,width:n,height:a}),1==r?(o.style.cssText="position:absolute;left:"+i+"px;top:"+s+"px",l.body[p](o)):r.firstChild?r.insertBefore(o,r.firstChild):r[p](o),r=new u,r.width=n,r.height=a,r.canvas=o,gt.call(r,r,t.fn),r.clear(),r};u[o].clear=function(){for(var t=this.canvas;t.firstChild;)t.removeChild(t.firstChild);this.bottom=this.top=null,(this.desc=St("desc"))[p](l.createTextNode("Created with Raphaël")),t[p](this.desc),t[p](this.defs=St("defs"))},u[o].remove=function(){this.canvas.parentNode&&this.canvas.parentNode.removeChild(this.canvas);for(var t in this)this[t]=bt(t)}}if(t.vml){var qt={M:"m",L:"l",C:"c",Z:"x",m:"t",l:"r",c:"v",z:"x"},Wt=/([clmz]),?([^clmz]*)/gi,jt=/-?[^,\s-]+/g,Vt=1e3+x+1e3,Ft=10,Dt={path:1,rect:1},Ot=function(t){var e=/[ahqstv]/gi,r=at;if((t+y).match(e)&&(r=ut),e=/[clmz]/g,r==at&&!(t+y).match(e)){var i=(t+y)[X](Wt,function(t,e,r){var i=[],s="m"==_.call(e),n=qt[e];return r[X](jt,function(t){s&&2==i[S]&&(n+=i+qt["m"==e?"l":"L"],i=[]),i[E](W(t*Ft))}),n+i});return i}var s,n,a=r(t);i=[];for(var o=0,h=a[S];h>o;o++){s=a[o],n=_.call(a[o][0]),"z"==n&&(n="x");for(var l=1,c=s[S];c>l;l++)n+=W(s[l]*Ft)+(l!=c-1?",":y);i[E](n)}return i[w](x)};t[R]=function(){return"Your browser doesn’t support SVG. Falling down to VML.\nYou are running Raphaël "+this.version},_t=function(t,e){var r=It("group");r.style.cssText="position:absolute;left:0;top:0;width:"+e.width+"px;height:"+e.height+"px",r.coordsize=e.coordsize,r.coordorigin=e.coordorigin;var i=It("shape"),s=i.style;s.width=e.width+"px",s.height=e.height+"px",i.coordsize=Vt,i.coordorigin=e.coordorigin,r[p](i);var n=new Nt(i,r,e),a={fill:"none",stroke:"#000"};return t&&(a.path=t),n.isAbsolute=!0,n.type="path",n.path=[],n.Path=y,Bt(n,a),e.canvas[p](r),n},Bt=function(e,i){e.attrs=e.attrs||{};var s,a=e.node,o=e.attrs,c=a.style,f=(i.x!=o.x||i.y!=o.y||i.width!=o.width||i.height!=o.height||i.r!=o.r)&&"rect"==e.type,u=e;for(var d in i)i[h](d)&&(o[d]=i[d]);if(f&&(o.path=r(o.x,o.y,o.width,o.height,o.r),e.X=o.x,e.Y=o.y,e.W=o.width,e.H=o.height),i.href&&(a.href=i.href),i.title&&(a.title=i.title),i.target&&(a.target=i.target),i.cursor&&(c.cursor=i.cursor),"blur"in i&&e.blur(i.blur),(i.path&&"path"==e.type||f)&&(a.path=Ot(o.path)),null!=i.rotation&&e.rotate(i.rotation,!0),i.translation&&(s=(i.translation+y)[m](n),le.call(e,s[0],s[1]),null!=e._.rt.cx&&(e._.rt.cx+=+s[0],e._.rt.cy+=+s[1],e.setBox(e.attrs,s[0],s[1]))),i.scale&&(s=(i.scale+y)[m](n),e.scale(+s[0]||1,+s[1]||+s[0]||1,+s[2]||null,+s[3]||null)),"clip-rect"in i){var g=(i["clip-rect"]+y)[m](n);if(4==g[S]){g[2]=+g[2]+ +g[0],g[3]=+g[3]+ +g[1];var v=a.clipRect||l.createElement("div"),x=v.style,k=a.parentNode;x.clip=t.format("rect({1}px {2}px {3}px {0}px)",g),a.clipRect||(x.position="absolute",x.top=0,x.left=0,x.width=e.paper.width+"px",x.height=e.paper.height+"px",k.parentNode.insertBefore(v,k),v[p](k),a.clipRect=v)}i["clip-rect"]||a.clipRect&&(a.clipRect.style.clip=y)}if("image"==e.type&&i.src&&(a.src=i.src),
"image"==e.type&&i.opacity&&(a.filterOpacity=D+".Alpha(opacity="+100*i.opacity+")",c.filter=(a.filterMatrix||y)+(a.filterOpacity||y)),i.font&&(c.font=i.font),i["font-family"]&&(c.fontFamily='"'+i["font-family"][m](",")[0][X](/^['"]+|['"]+$/g,y)+'"'),i["font-size"]&&(c.fontSize=i["font-size"]),i["font-weight"]&&(c.fontWeight=i["font-weight"]),i["font-style"]&&(c.fontStyle=i["font-style"]),null!=i.opacity||null!=i["stroke-width"]||null!=i.fill||null!=i.stroke||null!=i["stroke-width"]||null!=i["stroke-opacity"]||null!=i["fill-opacity"]||null!=i["stroke-dasharray"]||null!=i["stroke-miterlimit"]||null!=i["stroke-linejoin"]||null!=i["stroke-linecap"]){a=e.shape||a;var b=a.getElementsByTagName(G)&&a.getElementsByTagName(G)[0],w=!1;if(!b&&(w=b=It(G)),"fill-opacity"in i||"opacity"in i){var _=((+o["fill-opacity"]+1||2)-1)*((+o.opacity+1||2)-1)*((+t.getRGB(i.fill).o+1||2)-1);0>_&&(_=0),_>1&&(_=1),b.opacity=_}if(i.fill&&(b.on=!0),(null==b.on||"none"==i.fill)&&(b.on=!1),b.on&&i.fill){var z=i.fill.match(L);z?(b.src=z[1],b.type="tile"):(b.color=t.getRGB(i.fill).hex,b.src=y,b.type="solid",t.getRGB(i.fill).error&&(u.type in{circle:1,ellipse:1}||"r"!=(i.fill+y).charAt())&&zt(u,i.fill)&&(o.fill="none",o.gradient=i.fill))}w&&a[p](b);var C=a.getElementsByTagName("stroke")&&a.getElementsByTagName("stroke")[0],B=!1;!C&&(B=C=It("stroke")),(i.stroke&&"none"!=i.stroke||i["stroke-width"]||null!=i["stroke-opacity"]||i["stroke-dasharray"]||i["stroke-miterlimit"]||i["stroke-linejoin"]||i["stroke-linecap"])&&(C.on=!0),("none"==i.stroke||null==C.on||0==i.stroke||0==i["stroke-width"])&&(C.on=!1);var M=t.getRGB(i.stroke);C.on&&i.stroke&&(C.color=M.hex),_=((+o["stroke-opacity"]+1||2)-1)*((+o.opacity+1||2)-1)*((+M.o+1||2)-1);var T=.75*(V(i["stroke-width"])||1);if(0>_&&(_=0),_>1&&(_=1),null==i["stroke-width"]&&(T=o["stroke-width"]),i["stroke-width"]&&(C.weight=T),T&&1>T&&(_*=T)&&(C.weight=1),C.opacity=_,i["stroke-linejoin"]&&(C.joinstyle=i["stroke-linejoin"]||"miter"),C.miterlimit=i["stroke-miterlimit"]||8,i["stroke-linecap"]&&(C.endcap="butt"==i["stroke-linecap"]?"flat":"square"==i["stroke-linecap"]?"square":"round"),i["stroke-dasharray"]){var N={"-":"shortdash",".":"shortdot","-.":"shortdashdot","-..":"shortdashdotdot",". ":"dot","- ":"dash","--":"longdash","- .":"dashdot","--.":"longdashdot","--..":"longdashdotdot"};C.dashstyle=N[h](i["stroke-dasharray"])?N[i["stroke-dasharray"]]:y}B&&a[p](C)}if("text"==u.type)switch(c=u.paper.span.style,o.font&&(c.font=o.font),o["font-family"]&&(c.fontFamily=o["font-family"]),o["font-size"]&&(c.fontSize=o["font-size"]),o["font-weight"]&&(c.fontWeight=o["font-weight"]),o["font-style"]&&(c.fontStyle=o["font-style"]),u.node.string&&(u.paper.span.innerHTML=(u.node.string+y)[X](/</g,"&#60;")[X](/&/g,"&#38;")[X](/\n/g,"<br>")),u.W=o.w=u.paper.span.offsetWidth,u.H=o.h=u.paper.span.offsetHeight,u.X=o.x,u.Y=o.y+W(u.H/2),o["text-anchor"]){case"start":u.node.style["v-text-align"]="left",u.bbx=W(u.W/2);break;case"end":u.node.style["v-text-align"]="right",u.bbx=-W(u.W/2);break;default:u.node.style["v-text-align"]="center"}},zt=function(t,e){t.attrs=t.attrs||{};var r,i=(t.attrs,"linear"),s=".5 .5";if(t.attrs.gradient=e,e=(e+y)[X](wt,function(t,e,r){return i="radial",e&&r&&(e=V(e),r=V(r),H(e-.5,2)+H(r-.5,2)>.25&&(r=z.sqrt(.25-H(e-.5,2))*(2*(r>.5)-1)+.5),s=e+x+r),y}),e=e[m](/\s*\-\s*/),"linear"==i){var n=e.shift();if(n=-V(n),isNaN(n))return null}var a=pt(e);if(!a)return null;if(t=t.shape||t.node,r=t.getElementsByTagName(G)[0]||It(G),!r.parentNode&&t.appendChild(r),a[S]){r.on=!0,r.method="none",r.color=a[0].color,r.color2=a[a[S]-1].color;for(var o=[],h=0,l=a[S];l>h;h++)a[h].offset&&o[E](a[h].offset+x+a[h].color);r.colors&&(r.colors.value=o[S]?o[w]():"0% "+r.color),"radial"==i?(r.type="gradientradial",r.focus="100%",r.focussize=s,r.focusposition=s):(r.type="gradient",r.angle=(270-n)%360)}return 1},Nt=function(e,r,i){this[0]=e,this.id=t._oid++,this.node=e,e.raphael=this,this.X=0,this.Y=0,this.attrs={},this.Group=r,this.paper=i,this._={tx:0,ty:0,rt:{deg:0},sx:1,sy:1},!i.bottom&&(i.bottom=this),this.prev=i.top,i.top&&(i.top.next=this),i.top=this,this.next=null},Nt[o].rotate=function(t,e,r){return this.removed?this:null==t?this._.rt.cx?[this._.rt.deg,this._.rt.cx,this._.rt.cy][w](x):this._.rt.deg:(t=(t+y)[m](n),t[S]-1&&(e=V(t[1]),r=V(t[2])),t=V(t[0]),null!=e?this._.rt.deg=t:this._.rt.deg+=t,null==r&&(e=null),this._.rt.cx=e,this._.rt.cy=r,this.setBox(this.attrs,e,r),this.Group.style.rotation=this._.rt.deg,this)},Nt[o].setBox=function(t,e,r){if(this.removed)return this;var i=this.Group.style,s=this.shape&&this.shape.style||this.node.style;t=t||{};for(var n in t)t[h](n)&&(this.attrs[n]=t[n]);e=e||this._.rt.cx,r=r||this._.rt.cy;var a,o,l,c,f=this.attrs;switch(this.type){case"circle":a=f.cx-f.r,o=f.cy-f.r,l=c=2*f.r;break;case"ellipse":a=f.cx-f.rx,o=f.cy-f.ry,l=2*f.rx,c=2*f.ry;break;case"image":a=+f.x,o=+f.y,l=f.width||0,c=f.height||0;break;case"text":this.textpath.v=["m",W(f.x),", ",W(f.y-2),"l",W(f.x)+1,", ",W(f.y-2)][w](y),a=f.x-W(this.W/2),o=f.y-this.H/2,l=this.W,c=this.H;break;case"rect":case"path":if(this.attrs.path){var u=it(this.attrs.path);a=u.x,o=u.y,l=u.width,c=u.height}else a=0,o=0,l=this.paper.width,c=this.paper.height;break;default:a=0,o=0,l=this.paper.width,c=this.paper.height}e=null==e?a+l/2:e,r=null==r?o+c/2:r;var p,d=e-this.paper.width/2,g=r-this.paper.height/2;i.left!=(p=d+"px")&&(i.left=p),i.top!=(p=g+"px")&&(i.top=p),this.X=Dt[h](this.type)?-d:a,this.Y=Dt[h](this.type)?-g:o,this.W=l,this.H=c,Dt[h](this.type)?(s.left!=(p=-d*Ft+"px")&&(s.left=p),s.top!=(p=-g*Ft+"px")&&(s.top=p)):"text"==this.type?(s.left!=(p=-d+"px")&&(s.left=p),s.top!=(p=-g+"px")&&(s.top=p)):(i.width!=(p=this.paper.width+"px")&&(i.width=p),i.height!=(p=this.paper.height+"px")&&(i.height=p),s.left!=(p=a-d+"px")&&(s.left=p),s.top!=(p=o-g+"px")&&(s.top=p),s.width!=(p=l+"px")&&(s.width=p),s.height!=(p=c+"px")&&(s.height=p))},Nt[o].hide=function(){return!this.removed&&(this.Group.style.display="none"),this},Nt[o].show=function(){return!this.removed&&(this.Group.style.display="block"),this},Nt[o].getBBox=function(){return this.removed?this:Dt[h](this.type)?it(this.attrs.path):{x:this.X+(this.bbx||0),y:this.Y,width:this.W,height:this.H}},Nt[o].remove=function(){if(!this.removed){vt(this,this.paper),this.node.parentNode.removeChild(this.node),this.Group.parentNode.removeChild(this.Group),this.shape&&this.shape.parentNode.removeChild(this.shape);for(var t in this)delete this[t];this.removed=!0}},Nt[o].attr=function(e,r){if(this.removed)return this;if(null==e){var i={};for(var s in this.attrs)this.attrs[h](s)&&(i[s]=this.attrs[s]);return this._.rt.deg&&(i.rotation=this.rotate()),(1!=this._.sx||1!=this._.sy)&&(i.scale=this.scale()),i.gradient&&"none"==i.fill&&(i.fill=i.gradient)&&delete i.gradient,i}if(null==r&&t.is(e,T))return"translation"==e?le.call(this):"rotation"==e?this.rotate():"scale"==e?this.scale():e==G&&"none"==this.attrs.fill&&this.attrs.gradient?this.attrs.gradient:this.attrs[e];if(this.attrs&&null==r&&t.is(e,N)){var n,a={};for(s=0,n=e[S];n>s;s++)a[e[s]]=this.attr(e[s]);return a}var o;return null!=r&&(o={},o[e]=r),null==r&&t.is(e,"object")&&(o=e),o&&(o.text&&"text"==this.type&&(this.node.string=o.text),Bt(this,o),o.gradient&&({circle:1,ellipse:1}[h](this.type)||"r"!=(o.gradient+y).charAt())&&zt(this,o.gradient),(!Dt[h](this.type)||this._.rt.deg)&&this.setBox(this.attrs)),this},Nt[o].toFront=function(){return!this.removed&&this.Group.parentNode[p](this.Group),this.paper.top!=this&&yt(this,this.paper),this},Nt[o].toBack=function(){return this.removed?this:(this.Group.parentNode.firstChild!=this.Group&&(this.Group.parentNode.insertBefore(this.Group,this.Group.parentNode.firstChild),xt(this,this.paper)),this)},Nt[o].insertAfter=function(t){return this.removed?this:(t.Group.nextSibling?t.Group.parentNode.insertBefore(this.Group,t.Group.nextSibling):t.Group.parentNode[p](this.Group),mt(this,t,this.paper),this)},Nt[o].insertBefore=function(t){return this.removed?this:(t.Group.parentNode.insertBefore(this.Group,t.Group),kt(this,t,this.paper),this)};var Yt=/ progid:\S+Blur\([^\)]+\)/g;Nt[o].blur=function(t){var e=this.node.style,r=e.filter;r=r.replace(Yt,""),0!==+t?(this.attrs.blur=t,e.filter=r+D+".Blur(pixelradius="+(+t||1.5)+")",e.margin=Raphael.format("-{0}px 0 0 -{0}px",Math.round(+t||1.5))):(e.filter=r,e.margin=0,delete this.attrs.blur)},Rt=function(t,e,r,i){var s=It("group"),n=It("oval");n.style;s.style.cssText="position:absolute;left:0;top:0;width:"+t.width+"px;height:"+t.height+"px",s.coordsize=Vt,s.coordorigin=t.coordorigin,s[p](n);var a=new Nt(n,s,t);return a.type="circle",Bt(a,{stroke:"#000",fill:"none"}),a.attrs.cx=e,a.attrs.cy=r,a.attrs.r=i,a.setBox({x:e-i,y:r-i,width:2*i,height:2*i}),t.canvas[p](s),a},Gt=function(t,e,i,s,n,a){var o=r(e,i,s,n,a),h=t.path(o),l=h.attrs;return h.X=l.x=e,h.Y=l.y=i,h.W=l.width=s,h.H=l.height=n,l.r=a,l.path=o,h.type="rect",h},At=function(t,e,r,i,s){var n=It("group"),a=It("oval");a.style;n.style.cssText="position:absolute;left:0;top:0;width:"+t.width+"px;height:"+t.height+"px",n.coordsize=Vt,n.coordorigin=t.coordorigin,n[p](a);var o=new Nt(a,n,t);return o.type="ellipse",Bt(o,{stroke:"#000"}),o.attrs.cx=e,o.attrs.cy=r,o.attrs.rx=i,o.attrs.ry=s,o.setBox({x:e-i,y:r-s,width:2*i,height:2*s}),t.canvas[p](n),o},Ht=function(t,e,r,i,s,n){var a=It("group"),o=It("image");o.style;a.style.cssText="position:absolute;left:0;top:0;width:"+t.width+"px;height:"+t.height+"px",a.coordsize=Vt,a.coordorigin=t.coordorigin,o.src=e,a[p](o);var h=new Nt(o,a,t);return h.type="image",h.attrs.src=e,h.attrs.x=r,h.attrs.y=i,h.attrs.w=s,h.attrs.h=n,h.setBox({x:r,y:i,width:s,height:n}),t.canvas[p](a),h},Et=function(e,r,i,s){var n=It("group"),a=It("shape"),o=a.style,h=It("path"),l=(h.style,It("textpath"));n.style.cssText="position:absolute;left:0;top:0;width:"+e.width+"px;height:"+e.height+"px",n.coordsize=Vt,n.coordorigin=e.coordorigin,h.v=t.format("m{0},{1}l{2},{1}",W(10*r),W(10*i),W(10*r)+1),h.textpathok=!0,o.width=e.width,o.height=e.height,l.string=s+y,l.on=!0,a[p](l),a[p](h),n[p](a);var c=new Nt(l,n,e);return c.shape=a,c.textpath=h,c.type="text",c.attrs.text=s,c.attrs.x=r,c.attrs.y=i,c.attrs.w=1,c.attrs.h=1,Bt(c,{font:Y.font,stroke:"none",fill:"#000"}),c.setBox(),e.canvas[p](n),c},Pt=function(t,e){var r=this.canvas.style;return t==+t&&(t+="px"),e==+e&&(e+="px"),r.width=t,r.height=e,r.clip="rect(0 "+t+" "+e+" 0)",this};var It;l.createStyleSheet().addRule(".rvml","behavior:url(#default#VML)");try{!l.namespaces.rvml&&l.namespaces.add("rvml","urn:schemas-microsoft-com:vml"),It=function(t){return l.createElement("<rvml:"+t+' class="rvml">')}}catch(Xt){It=function(t){return l.createElement("<"+t+' xmlns="urn:schemas-microsoft.com:vml" class="rvml">')}}Lt=function(){var e=dt[d](0,arguments),r=e.container,i=e.height,s=e.width,n=e.x,a=e.y;if(!r)throw new Error("VML container not found.");var o=new u,h=o.canvas=l.createElement("div"),c=h.style;return n=n||0,a=a||0,s=s||512,i=i||342,s==+s&&(s+="px"),i==+i&&(i+="px"),o.width=1e3,o.height=1e3,o.coordsize=1e3*Ft+x+1e3*Ft,o.coordorigin="0 0",o.span=l.createElement("span"),o.span.style.cssText="position:absolute;left:-9999em;top:-9999em;padding:0;margin:0;line-height:1;display:inline;",h[p](o.span),c.cssText=t.format("width:{0};height:{1};display:inline-block;position:relative;clip:rect(0 {0} {1} 0);overflow:hidden",s,i),1==r?(l.body[p](h),c.left=n+"px",c.top=a+"px",c.position="absolute"):r.firstChild?r.insertBefore(h,r.firstChild):r[p](h),gt.call(o,o,t.fn),o},u[o].clear=function(){this.canvas.innerHTML=y,this.span=l.createElement("span"),this.span.style.cssText="position:absolute;left:-9999em;top:-9999em;padding:0;margin:0;line-height:1;display:inline;",this.canvas[p](this.span),this.bottom=this.top=null},u[o].remove=function(){this.canvas.parentNode.removeChild(this.canvas);for(var t in this)this[t]=bt(t);return!0}}!/^Apple|^Google/.test(c.navigator.vendor)||c.navigator.userAgent.indexOf("Version/4.0")+1&&"iP"!=c.navigator.platform.slice(0,2)?u[o].safari=function(){}:u[o].safari=function(){var t=this.rect(-99,-99,this.width+99,this.height+99);c.setTimeout(function(){t.remove()})};for(var $t=function(){this.returnValue=!1},Ut=function(){return this.originalEvent.preventDefault()},Qt=function(){this.cancelBubble=!0},Zt=function(){return this.originalEvent.stopPropagation()},Jt=function(){return l.addEventListener?function(t,e,r,i){var s=function(s){if(v&&b[h](e))for(var n=0,a=s.targetTouches&&s.targetTouches.length;a>n;n++)if(s.targetTouches[n].target==t){var o=s;s=s.targetTouches[n],s.originalEvent=o,s.preventDefault=Ut,s.stopPropagation=Zt;break}return r.call(i,s)};return t.addEventListener(e,s,!1),function(){return t.removeEventListener(e,s,!1),!0}}:l.attachEvent?function(t,e,r,i){var s=function(t){return t=t||c.event,t.preventDefault=t.preventDefault||$t,t.stopPropagation=t.stopPropagation||Qt,r.call(i,t)};t.attachEvent("on"+e,s);var n=function(){return t.detachEvent("on"+e,s),!0};return n}:void 0}(),Kt=k[S];Kt--;)!function(e){t[e]=Nt[o][e]=function(r){if(t.is(r,"function")){var i=v&&b[e]?b[e]:e;this.events=this.events||[],this.events.push({name:e,f:r,unbind:Jt(this.shape||this.node||l,i,r,this)})}return this},t["un"+e]=Nt[o]["un"+e]=function(t){for(var r=this.events,i=r[S];i--;)if(r[i].name==e&&r[i].f==t)return r[i].unbind(),r.splice(i,1),!r.length&&delete this.events,this;return this}}(k[Kt]);Nt[o].hover=function(t,e){return this.mouseover(t).mouseout(e)},Nt[o].unhover=function(t,e){return this.unmouseover(t).unmouseout(e)},Nt[o].drag=function(t,e,r){this._drag={};var i=this.mousedown(function(t){(t.originalEvent?t.originalEvent:t).preventDefault(),this._drag.x=t.clientX,this._drag.y=t.clientY,this._drag.id=t.identifier,e&&e.call(this,t.clientX,t.clientY),Raphael.mousemove(s).mouseup(n)}),s=function(e){var r=e.clientX,s=e.clientY;if(v){for(var n,a=e.touches.length;a--;)if(n=e.touches[a],n.identifier==i._drag.id){r=n.clientX,s=n.clientY,(e.originalEvent?e.originalEvent:e).preventDefault();break}}else e.preventDefault();t&&t.call(i,r-i._drag.x,s-i._drag.y,r,s)},n=function(){i._drag={},Raphael.unmousemove(s).unmouseup(n),r&&r.call(i)};return this},u[o].circle=function(t,e,r){return Rt(this,t||0,e||0,r||0)},u[o].rect=function(t,e,r,i,s){return Gt(this,t||0,e||0,r||0,i||0,s||0)},u[o].ellipse=function(t,e,r,i){return At(this,t||0,e||0,r||0,i||0)},u[o].path=function(e){return e&&!t.is(e,T)&&!t.is(e[0],N)&&(e+=y),_t(t.format[d](t,arguments),this)},u[o].image=function(t,e,r,i,s){return Ht(this,t||"about:blank",e||0,r||0,i||0,s||0)},u[o].text=function(t,e,r){return Et(this,t||0,e||0,r||y)},u[o].set=function(t){return arguments[S]>1&&(t=Array[o].splice.call(arguments,0,arguments[S])),new ce(t)},u[o].setSize=Pt,u[o].top=u[o].bottom=null,u[o].raphael=t,Nt[o].resetScale=function(){return this.removed?this:(this._.sx=1,this._.sy=1,void(this.attrs.scale="1 1"))},Nt[o].scale=function(t,e,r,s){if(this.removed)return this;if(null==t&&null==e)return{x:this._.sx,y:this._.sy,toString:i};e=e||t,!+e&&(e=t);var n,a,o=this.attrs;if(0!=t){var h=this.getBBox(),l=h.x+h.width/2,c=h.y+h.height/2,f=t/this._.sx,u=e/this._.sy;r=+r||0==r?r:l,s=+s||0==s?s:c;var p=~~(t/z.abs(t)),d=~~(e/z.abs(e)),v=this.node.style,m=r+(l-r)*f,k=s+(c-s)*u;switch(this.type){case"rect":case"image":var b=o.width*p*f,_=o.height*d*u;this.attr({height:_,r:o.r*B(p*f,d*u),width:b,x:m-b/2,y:k-_/2});break;case"circle":case"ellipse":this.attr({rx:o.rx*p*f,ry:o.ry*d*u,r:o.r*B(p*f,d*u),cx:m,cy:k});break;case"text":this.attr({x:m,y:k});break;case"path":for(var C=nt(o.path),M=!0,T=0,N=C[S];N>T;T++){var R=C[T],G=O.call(R[0]);if("M"!=G||!M)if(M=!1,"A"==G)R[C[T][S]-2]*=f,R[C[T][S]-1]*=u,R[1]*=p*f,R[2]*=d*u,R[5]=+!(p+d?!+R[5]:+R[5]);else if("H"==G)for(var A=1,H=R[S];H>A;A++)R[A]*=f;else if("V"==G)for(A=1,H=R[S];H>A;A++)R[A]*=u;else for(A=1,H=R[S];H>A;A++)R[A]*=A%2?f:u}var E=it(C);n=m-E.x-E.width/2,a=k-E.y-E.height/2,C[0][1]+=n,C[0][2]+=a,this.attr({path:C})}this.type in{text:1,image:1}&&(1!=p||1!=d)?this.transformations?(this.transformations[2]="scale("[g](p,",",d,")"),this.node[j]("transform",this.transformations[w](x)),n=-1==p?-o.x-(b||0):o.x,a=-1==d?-o.y-(_||0):o.y,this.attr({x:n,y:a}),o.fx=p-1,o.fy=d-1):(this.node.filterMatrix=D+".Matrix(M11="[g](p,", M12=0, M21=0, M22=",d,", Dx=0, Dy=0, sizingmethod='auto expand', filtertype='bilinear')"),v.filter=(this.node.filterMatrix||y)+(this.node.filterOpacity||y)):this.transformations?(this.transformations[2]=y,this.node[j]("transform",this.transformations[w](x)),o.fx=0,o.fy=0):(this.node.filterMatrix=y,v.filter=(this.node.filterMatrix||y)+(this.node.filterOpacity||y)),o.scale=[t,e,r,s][w](x),this._.sx=t,this._.sy=e}return this},Nt[o].clone=function(){if(this.removed)return null;var t=this.attr();return delete t.scale,delete t.translation,this.paper[this.type]().attr(t)};var te=e(function(e,r,i,s,n,a,o,h,l){for(var c,f=0,u=0;1.001>u;u+=.001){var p=t.findDotsAtSegment(e,r,i,s,n,a,o,h,u);if(u&&(f+=H(H(c.x-p.x,2)+H(c.y-p.y,2),.5)),f>=l)return p;c=p}}),ee=function(e,r){return function(i,s,n){i=ut(i);for(var a,o,h,l,c,f="",u={},p=0,d=0,g=i.length;g>d;d++){if(h=i[d],"M"==h[0])a=+h[1],o=+h[2];else{if(l=re(a,o,h[1],h[2],h[3],h[4],h[5],h[6]),p+l>s){if(r&&!u.start){if(c=te(a,o,h[1],h[2],h[3],h[4],h[5],h[6],s-p),f+=["C",c.start.x,c.start.y,c.m.x,c.m.y,c.x,c.y],n)return f;u.start=f,f=["M",c.x,c.y+"C",c.n.x,c.n.y,c.end.x,c.end.y,h[5],h[6]][w](),p+=l,a=+h[5],o=+h[6];continue}if(!e&&!r)return c=te(a,o,h[1],h[2],h[3],h[4],h[5],h[6],s-p),{x:c.x,y:c.y,alpha:c.alpha}}p+=l,a=+h[5],o=+h[6]}f+=h}return u.end=f,c=e?p:r?u:t.findDotsAtSegment(a,o,h[1],h[2],h[3],h[4],h[5],h[6],1),c.alpha&&(c={x:c.x,y:c.y,alpha:c.alpha}),c}},re=e(function(t,e,r,i,s,n,a,o){for(var h={x:0,y:0},l=0,c=0;1.01>c;c+=.01){var f=ct(t,e,r,i,s,n,a,o,c);c&&(l+=H(H(h.x-f.x,2)+H(h.y-f.y,2),.5)),h=f}return l}),ie=ee(1),se=ee(),ne=ee(0,1);Nt[o].getTotalLength=function(){return"path"==this.type?this.node.getTotalLength?this.node.getTotalLength():ie(this.attrs.path):void 0},Nt[o].getPointAtLength=function(t){return"path"==this.type?se(this.attrs.path,t):void 0},Nt[o].getSubpath=function(t,e){if("path"==this.type){if(z.abs(this.getTotalLength()-e)<1e-6)return ne(this.attrs.path,t).end;var r=ne(this.attrs.path,e,1);return t?ne(r,t).end:r}},t.easing_formulas={linear:function(t){return t},"<":function(t){return H(t,3)},">":function(t){return H(t-1,3)+1},"<>":function(t){return t=2*t,1>t?H(t,3)/2:(t-=2,(H(t,3)+2)/2)},backIn:function(t){var e=1.70158;return t*t*((e+1)*t-e)},backOut:function(t){t-=1;var e=1.70158;return t*t*((e+1)*t+e)+1},elastic:function(t){if(0==t||1==t)return t;var e=.3,r=e/4;return H(2,-10*t)*z.sin((t-r)*(2*z.PI)/e)+1},bounce:function(t){var e,r=7.5625,i=2.75;return 1/i>t?e=r*t*t:2/i>t?(t-=1.5/i,e=r*t*t+.75):2.5/i>t?(t-=2.25/i,e=r*t*t+.9375):(t-=2.625/i,e=r*t*t+.984375),e}};var ae={length:0},oe=function(){var e=+new Date;for(var r in ae)if("length"!=r&&ae[h](r)){var i=ae[r];if(i.stop||i.el.removed){delete ae[r],ae[S]--;continue}var s,n=e-i.start,a=i.ms,o=i.easing,l=i.from,f=i.diff,u=i.to,p=i.t,d=i.prev||0,g=i.el,v=i.callback,m={};if(a>n){var k=t.easing_formulas[o]?t.easing_formulas[o](n/a):n/a;for(var b in l)if(l[h](b)){switch(I[b]){case"along":s=k*a*f[b],u.back&&(s=u.len-s);var _=se(u[b],s);g.translate(f.sx-f.x||0,f.sy-f.y||0),f.x=_.x,f.y=_.y,g.translate(_.x-f.sx,_.y-f.sy),u.rot&&g.rotate(f.r+_.alpha,_.x,_.y);break;case M:s=+l[b]+k*a*f[b];break;case"colour":s="rgb("+[he(W(l[b].r+k*a*f[b].r)),he(W(l[b].g+k*a*f[b].g)),he(W(l[b].b+k*a*f[b].b))][w](",")+")";break;case"path":s=[];for(var z=0,C=l[b][S];C>z;z++){s[z]=[l[b][z][0]];for(var B=1,T=l[b][z][S];T>B;B++)s[z][B]=+l[b][z][B]+k*a*f[b][z][B];s[z]=s[z][w](x)}s=s[w](x);break;case"csv":switch(b){case"translation":var N=f[b][0]*(n-d),R=f[b][1]*(n-d);p.x+=N,p.y+=R,s=N+x+R;break;case"rotation":s=+l[b][0]+k*a*f[b][0],l[b][1]&&(s+=","+l[b][1]+","+l[b][2]);break;case"scale":s=[+l[b][0]+k*a*f[b][0],+l[b][1]+k*a*f[b][1],2 in u[b]?u[b][2]:y,3 in u[b]?u[b][3]:y][w](x);break;case"clip-rect":for(s=[],z=4;z--;)s[z]=+l[b][z]+k*a*f[b][z]}}m[b]=s}g.attr(m),g._run&&g._run.call(g)}else u.along&&(_=se(u.along,u.len*!u.back),g.translate(f.sx-(f.x||0)+_.x-f.sx,f.sy-(f.y||0)+_.y-f.sy),u.rot&&g.rotate(f.r+_.alpha,_.x,_.y)),(p.x||p.y)&&g.translate(-p.x,-p.y),u.scale&&(u.scale+=y),g.attr(u),delete ae[r],ae[S]--,g.in_animation=null,t.is(v,"function")&&v.call(g);i.prev=n}t.svg&&g&&g.paper&&g.paper.safari(),ae[S]&&c.setTimeout(oe)},he=function(t){return C(B(t,255),0)},le=function(t,e){if(null==t)return{x:this._.tx,y:this._.ty,toString:i};switch(this._.tx+=+t,this._.ty+=+e,this.type){case"circle":case"ellipse":this.attr({cx:+t+this.attrs.cx,cy:+e+this.attrs.cy});break;case"rect":case"image":case"text":this.attr({x:+t+this.attrs.x,y:+e+this.attrs.y});break;case"path":var r=nt(this.attrs.path);r[0][1]+=+t,r[0][2]+=+e,this.attr({path:r})}return this};Nt[o].animateWith=function(t,e,r,i,s){return ae[t.id]&&(e.start=ae[t.id].start),this.animate(e,r,i,s)},Nt[o].animateAlong=s(),Nt[o].animateAlongBack=s(1),Nt[o].onAnimation=function(t){return this._run=t||0,this},Nt[o].animate=function(e,r,i,s){(t.is(i,"function")||!i)&&(s=i||null);var a={},o={},l={};for(var c in e)if(e[h](c)&&I[h](c))switch(a[c]=this.attr(c),null==a[c]&&(a[c]=Y[c]),o[c]=e[c],I[c]){case"along":var f=ie(e[c]),u=se(e[c],f*!!e.back),p=this.getBBox();l[c]=f/r,l.tx=p.x,l.ty=p.y,l.sx=u.x,l.sy=u.y,o.rot=e.rot,o.back=e.back,o.len=f,e.rot&&(l.r=V(this.rotate())||0);break;case M:l[c]=(o[c]-a[c])/r;break;case"colour":a[c]=t.getRGB(a[c]);var d=t.getRGB(o[c]);l[c]={r:(d.r-a[c].r)/r,g:(d.g-a[c].g)/r,b:(d.b-a[c].b)/r};break;case"path":var g=ut(a[c],o[c]);a[c]=g[0];var v=g[1];l[c]=[];for(var x=0,k=a[c][S];k>x;x++){l[c][x]=[0];for(var b=1,w=a[c][x][S];w>b;b++)l[c][x][b]=(v[x][b]-a[c][x][b])/r}break;case"csv":var _=(e[c]+y)[m](n),z=(a[c]+y)[m](n);switch(c){case"translation":a[c]=[0,0],l[c]=[_[0]/r,_[1]/r];break;case"rotation":a[c]=z[1]==_[1]&&z[2]==_[2]?z:[0,_[1],_[2]],l[c]=[(_[0]-a[c][0])/r,0,0];break;case"scale":e[c]=_,a[c]=(a[c]+y)[m](n),l[c]=[(_[0]-a[c][0])/r,(_[1]-a[c][1])/r,0,0];break;case"clip-rect":for(a[c]=(a[c]+y)[m](n),l[c]=[],x=4;x--;)l[c][x]=(_[x]-a[c][x])/r}o[c]=_}return this.stop(),this.in_animation=1,ae[this.id]={start:e.start||+new Date,ms:r,easing:i,from:a,diff:l,to:o,el:this,callback:s,t:{x:0,y:0}},1==++ae[S]&&oe(),this},Nt[o].stop=function(){return ae[this.id]&&ae[S]--,delete ae[this.id],this},Nt[o].translate=function(t,e){return this.attr({translation:t+" "+e})},Nt[o][R]=function(){return"Raphaël’s object"},t.ae=ae;var ce=function(t){if(this.items=[],this[S]=0,this.type="set",t)for(var e=0,r=t[S];r>e;e++)!t[e]||t[e].constructor!=Nt&&t[e].constructor!=ce||(this[this.items[S]]=this.items[this.items[S]]=t[e],this[S]++)};ce[o][E]=function(){for(var t,e,r=0,i=arguments[S];i>r;r++)t=arguments[r],!t||t.constructor!=Nt&&t.constructor!=ce||(e=this.items[S],this[e]=this.items[e]=t,this[S]++);return this},ce[o].pop=function(){return delete this[this[S]--],this.items.pop()};for(var fe in Nt[o])Nt[o][h](fe)&&(ce[o][fe]=function(t){return function(){for(var e=0,r=this.items[S];r>e;e++)this.items[e][t][d](this.items[e],arguments);return this}}(fe));ce[o].attr=function(e,r){if(e&&t.is(e,N)&&t.is(e[0],"object"))for(var i=0,s=e[S];s>i;i++)this.items[i].attr(e[i]);else for(var n=0,a=this.items[S];a>n;n++)this.items[n].attr(e,r);return this},ce[o].animate=function(e,r,i,s){(t.is(i,"function")||!i)&&(s=i||null);var n,a,o=this.items[S],h=o,l=this;for(s&&(a=function(){!--o&&s.call(l)}),i=t.is(i,T)?i:a,n=this.items[--h].animate(e,r,i,a);h--;)this.items[h].animateWith(n,e,r,i,a);return this},ce[o].insertAfter=function(t){for(var e=this.items[S];e--;)this.items[e].insertAfter(t);return this},ce[o].getBBox=function(){for(var t=[],e=[],r=[],i=[],s=this.items[S];s--;){var n=this.items[s].getBBox();t[E](n.x),e[E](n.y),r[E](n.x+n.width),i[E](n.y+n.height)}return t=B[d](0,t),e=B[d](0,e),{x:t,y:e,width:C[d](0,r)-t,height:C[d](0,i)-e}},ce[o].clone=function(t){t=new ce;for(var e=0,r=this.items[S];r>e;e++)t[E](this.items[e].clone());return t},t.registerFont=function(t){if(!t.face)return t;this.fonts=this.fonts||{};var e={w:t.w,face:{},glyphs:{}},r=t.face["font-family"];for(var i in t.face)t.face[h](i)&&(e.face[i]=t.face[i]);if(this.fonts[r]?this.fonts[r][E](e):this.fonts[r]=[e],!t.svg){e.face["units-per-em"]=F(t.face["units-per-em"],10);for(var s in t.glyphs)if(t.glyphs[h](s)){var n=t.glyphs[s];if(e.glyphs[s]={w:n.w,k:{},d:n.d&&"M"+n.d[X](/[mlcxtrv]/g,function(t){return{l:"L",c:"C",x:"z",t:"m",r:"l",v:"c"}[t]||"M"})+"z"},n.k)for(var a in n.k)n[h](a)&&(e.glyphs[s].k[a]=n.k[a])}}return t},u[o].getFont=function(e,r,i,s){if(s=s||"normal",i=i||"normal",r=+r||{normal:400,bold:700,lighter:300,bolder:800}[r]||400,t.fonts){var n=t.fonts[e];if(!n){var a=new RegExp("(^|\\s)"+e[X](/[^\w\d\s+!~.:_-]/g,y)+"(\\s|$)","i");for(var o in t.fonts)if(t.fonts[h](o)&&a.test(o)){n=t.fonts[o];break}}var l;if(n)for(var c=0,f=n[S];f>c&&(l=n[c],l.face["font-weight"]!=r||l.face["font-style"]!=i&&l.face["font-style"]||l.face["font-stretch"]!=s);c++);return l}},u[o].print=function(e,r,i,s,a,o){o=o||"middle";var h,l=this.set(),c=(i+y)[m](y),f=0;if(t.is(s,i)&&(s=this.getFont(s)),s){h=(a||16)/s.face["units-per-em"];for(var u=s.face.bbox.split(n),p=+u[0],d=+u[1]+("baseline"==o?u[3]-u[1]+ +s.face.descent:(u[3]-u[1])/2),g=0,v=c[S];v>g;g++){var x=g&&s.glyphs[c[g-1]]||{},k=s.glyphs[c[g]];f+=g?(x.w||s.w)+(x.k&&x.k[c[g]]||0):0,k&&k.d&&l[E](this.path(k.d).attr({fill:"#000",stroke:"none",translation:[f,0]}))}l.scale(h,h,p,d).translate(e-p,r-d)}return l};var ue=/\{(\d+)\}/g;return t.format=function(e,r){var i=t.is(r,N)?[0][g](r):arguments;return e&&t.is(e,T)&&i[S]-1&&(e=e[X](ue,function(t,e){return null==i[++e]?y:i[e]})),e||y},t.ninja=function(){return f.was?Raphael=f.is:delete Raphael,t},t.el=Nt[o],t}();