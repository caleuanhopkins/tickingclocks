!function(t,e,i,r){"use strict";function s(e,i){this.element=e,this.settings=t.extend({},a,i),this.settings.clockSecondHandWidth<=0&&(this.settings.clockSecondHandWidth=this.settings.clockSize/75),this.settings.clockMinuteHandWidth<=0&&(this.settings.clockMinuteHandWidth=this.settings.clockSize/50),this.settings.clockHourHandWidth<=0&&(this.settings.clockHourHandWidth=this.settings.clockSize/35),this.settings.clockPinSize<=0&&(this.settings.clockPinSize=this.settings.clockSize/40),this.settings.clockPinSize<=0&&(this.settings.clockPinSize=this.settings.clockSize/40),this._defaults=a,this._name=n,this.parts=[],this.init()}var n="tickingClocks",a={timezone:0,clockSize:100,showSeconds:!0,clockBGColor:"#f5f5f5",clockBorderWidth:2,clockBorderColor:"#444444",clockSecondHandColor:"#444444",clockMinuteHandColor:"#444444",clockHourHandColor:"#444444",clockSecondHandWidth:0,clockMinuteHandWidth:0,clockHourHandWidth:0,clockHandLength:6,clockPinColor:"#444444",clockPinSize:0,showTimeNumbers:!0,showTimeStrokes:!0,clockTimeStrokeColor:"#444444",clockTimeStrokeWidth:2,clockMiniTimeStrokeColor:"#949494",clockMiniTimeStrokeWidth:1,showMiniSecs:!1,showMilliSeconds:!1,onEachSecond:function(t,e,i,r,s,n){console.log(t)}};t.extend(s.prototype,{init:function(){var t=this;this.setup_clock(this.settings,this),this.draw_clock(this.settings.timezone,this),setInterval(function(){t.draw_clock(t.settings.timezone,t)},100)},setup_clock:function(t,e){var i=Raphael(e.element.id,t.clockSize,t.clockSize);if(this.parts.clock=i.circle(t.clockSize/2,t.clockSize/2,t.clockSize/2-2),this.parts.clock.attr({fill:t.clockBGColor,stroke:t.clockBorderColor,"stroke-width":t.clockBorderWidth}),t.showTimeStrokes){if(this.parts.hour_sign=[],t.showTimeNumber)for(var r=0;13>r;r++){var s=r-3,n=t.clockSize/2+Math.round((t.clockSize/2/2+t.clockSize/6)*Math.cos(30*s*Math.PI/180)),a=t.clockSize/2+Math.round((t.clockSize/2/2+t.clockSize/6)*Math.sin(30*s*Math.PI/180));this.parts.hour_sign[r]=i.text(n,a,r),this.parts.hour_sign[r].attr({fill:t.clockTimeStrokeColor,stroke:t.clockTimeStrokeColor});var s=r-3}else for(var r=0;12>r;r++){var n=t.clockSize/2+Math.round((t.clockSize/2/2+t.clockSize/5)*Math.cos(30*r*Math.PI/180)),a=t.clockSize/2+Math.round((t.clockSize/2/2+t.clockSize/5)*Math.sin(30*r*Math.PI/180)),o=t.clockSize/2+Math.round((t.clockSize/2-t.clockSize/12)*Math.cos(30*r*Math.PI/180)),h=t.clockSize/2+Math.round((t.clockSize/2-t.clockSize/12)*Math.sin(30*r*Math.PI/180));this.parts.hour_sign[r]=i.path("M"+n+" "+a+"L"+o+" "+h),this.parts.hour_sign[r].attr({stroke:t.clockTimeStrokeColor,"stroke-width":t.clockTimeStrokeWidth})}if(t.showMiniSecs){this.parts.min_sign=[];for(var r=0;60>r;r++)if(12*r/5%1!=0){var n=t.clockSize/2+Math.round((t.clockSize/2/2+t.clockSize/5)*Math.cos(12*r*Math.PI/360)),a=t.clockSize/2+Math.round((t.clockSize/2/2+t.clockSize/5)*Math.sin(12*r*Math.PI/360)),o=t.clockSize/2+Math.round((t.clockSize/2-t.clockSize/14)*Math.cos(12*r*Math.PI/360)),h=t.clockSize/2+Math.round((t.clockSize/2-t.clockSize/14)*Math.sin(12*r*Math.PI/360));this.parts.min_sign[r]=i.path("M"+n+" "+a+"L"+o+" "+h),this.parts.min_sign[r].attr({stroke:t.clockMiniTimeStrokeColor,"stroke-width":t.clockMiniTimeStrokeWidth})}}}this.parts.hour_hand=i.path("M"+t.clockSize/2+" "+t.clockSize/2+"L"+t.clockSize/2+" "+t.clockSize/t.clockHandLength/.4),this.parts.hour_hand.attr({stroke:t.clockHourHandColor,"stroke-width":t.clockHourHandWidth}),this.parts.minute_hand=i.path("M"+t.clockSize/2+" "+t.clockSize/2+"L"+t.clockSize/2+" "+t.clockSize/t.clockHandLength/.6),this.parts.minute_hand.attr({stroke:t.clockMinuteHandColor,"stroke-width":t.clockMinuteHandWidth}),t.showSeconds&&(this.parts.second_hand=i.path("M"+t.clockSize/2+" "+t.clockSize/2+"L"+t.clockSize/2+" "+t.clockSize/t.clockHandLength),this.parts.second_hand.attr({stroke:t.clockSecondHandColor,"stroke-width":t.clockSecondHandWidth})),this.parts.pin=i.circle(t.clockSize/2,t.clockSize/2,this.settings.clockPinSize),this.parts.pin.attr({fill:t.clockPinColor,stroke:t.clockPinColor})},draw_clock:function(t,e){var i=new Date,r=i.getUTCHours()+t,s=i.getUTCMinutes();if(e.settings.showSeconds)var n=i.getUTCSeconds();var a=i.getMilliseconds();this.parts.hour_hand.rotate(30*r+s/2.5,e.settings.clockSize/2,e.settings.clockSize/2),this.parts.minute_hand.rotate(6*s,e.settings.clockSize/2,e.settings.clockSize/2),e.settings.showMilliSeconds?this.parts.second_hand.rotate(a/170+6*n,e.settings.clockSize/2,e.settings.clockSize/2):e.settings.showSeconds&&this.parts.second_hand.rotate(6*n,e.settings.clockSize/2,e.settings.clockSize/2),e.settings.onEachSecond(i,e,r,s,n,this)}}),t.fn[n]=function(e){return this.each(function(){t.data(this,"plugin_"+n)||t.data(this,"plugin_"+n,new s(this,e))})}}(jQuery,window,document),Raphael=function(){function t(){if(t.is(arguments[0],T)){for(var e=arguments[0],i=Rt[d](t,e.splice(0,3+t.is(e[0],B))),r=i.set(),s=0,n=e[S];n>s;s++){var o=e[s]||{};a.test(o.type)&&r[P](i[o.type]().attr(o))}return r}return Rt[d](t,arguments)}function e(t,e,i){function r(){var s=Array[o].slice.call(arguments,0),n=s[w]("►"),a=r.cache=r.cache||{},c=r.count=r.count||[];return a[h](n)?i?i(a[n]):a[n]:(c[S]>=1e3&&delete a[c.shift()],c[P](n),a[n]=t[d](e,s),i?i(a[n]):a[n])}return r}function i(e,i,r,s,n){return n?t.format("M{0},{1}l{2},0a{3},{3},0,0,1,{3},{3}l0,{5}a{3},{3},0,0,1,{4},{3}l{6},0a{3},{3},0,0,1,{4},{4}l0,{7}a{3},{3},0,0,1,{3},{4}z",e+n,i,r-2*n,n,-n,s-2*n,2*n-r,2*n-s):t.format("M{0},{1}l{2},0,0,{3},{4},0z",e,i,r,s,-r)}function r(){return this.x+x+this.y}function s(e){return function(i,r,s,n){var a={back:e};return t.is(s,"function")?n=s:a.rot=s,i&&i.constructor==Tt&&(i=i.attrs.path),i&&(a.along=i),this.animate(a,r,n)}}t.version="1.4.2";var n=/[, ]+/,a=/^(circle|rect|path|ellipse|text|image)$/,o="prototype",h="hasOwnProperty",c=document,l=window,f={was:Object[o][h].call(l,"Raphael"),is:l.Raphael},u=function(){},p="appendChild",d="apply",g="concat",v="createTouch"in c,y="",x=" ",m="split",k="click dblclick mousedown mousemove mouseout mouseover mouseup touchstart touchmove touchend orientationchange touchcancel gesturestart gesturechange gestureend"[m](x),b={mousedown:"touchstart",mousemove:"touchmove",mouseup:"touchend"},w="join",S="length",_=String[o].toLowerCase,z=Math,M=z.max,C=z.min,B="number",N="string",T="array",H="toString",G="fill",A=Object[o][H],E=z.pow,P="push",W=/^(?=[\da-f]$)/,R=/^url\(['"]?([^\)]+?)['"]?\)$/i,L=/^\s*((#[a-f\d]{6})|(#[a-f\d]{3})|rgba?\(\s*([\d\.]+\s*,\s*[\d\.]+\s*,\s*[\d\.]+(?:\s*,\s*[\d\.]+)?)\s*\)|rgba?\(\s*([\d\.]+%\s*,\s*[\d\.]+%\s*,\s*[\d\.]+%(?:\s*,\s*[\d\.]+%))\s*\)|hs[bl]\(\s*([\d\.]+\s*,\s*[\d\.]+\s*,\s*[\d\.]+)\s*\)|hs[bl]\(\s*([\d\.]+%\s*,\s*[\d\.]+%\s*,\s*[\d\.]+%)\s*\))\s*$/i,q=z.round,j="setAttribute",I=parseFloat,V=parseInt,F=" progid:DXImageTransform.Microsoft",Y=String[o].toUpperCase,D={blur:0,"clip-rect":"0 0 1e9 1e9",cursor:"default",cx:0,cy:0,fill:"#fff","fill-opacity":1,font:'10px "Arial"',"font-family":'"Arial"',"font-size":"10","font-style":"normal","font-weight":400,gradient:0,height:0,href:"http://raphaeljs.com/",opacity:1,path:"M0,0",r:0,rotation:0,rx:0,ry:0,scale:"1 1",src:"",stroke:"#000","stroke-dasharray":"","stroke-linecap":"butt","stroke-linejoin":"butt","stroke-miterlimit":0,"stroke-opacity":1,"stroke-width":1,target:"_blank","text-anchor":"middle",title:"Raphael",translation:"0 0",width:0,x:0,y:0},O={along:"along",blur:B,"clip-rect":"csv",cx:B,cy:B,fill:"colour","fill-opacity":B,"font-size":B,height:B,opacity:B,path:"path",r:B,rotation:"csv",rx:B,ry:B,scale:"csv",stroke:"colour","stroke-opacity":B,"stroke-width":B,translation:"csv",width:B,x:B,y:B},X="replace";if(t.type=l.SVGAngle||c.implementation.hasFeature("http://www.w3.org/TR/SVG11/feature#BasicStructure","1.1")?"SVG":"VML","VML"==t.type){var $=c.createElement("div");if($.innerHTML="<!--[if vml]><br><br><![endif]-->",2!=$.childNodes[S])return t.type=null;$=null}t.svg=!(t.vml="VML"==t.type),u[o]=t[o],t._id=0,t._oid=0,t.fn={},t.is=function(t,e){return e=_.call(e),"object"==e&&t===Object(t)||"undefined"==e&&typeof t==e||"null"==e&&null==t||_.call(A.call(t).slice(8,-1))==e},t.setWindow=function(t){l=t,c=l.document};var U=function(i){if(t.vml){var r=/^\s+|\s+$/g;U=e(function(t){var e;t=(t+y)[X](r,y);try{var i=new l.ActiveXObject("htmlfile");i.write("<body>"),i.close(),e=i.body}catch(s){e=l.createPopup().document.body}var n=e.createTextRange();try{e.style.color=t;var a=n.queryCommandValue("ForeColor");return a=(255&a)<<16|65280&a|(16711680&a)>>>16,"#"+("000000"+a[H](16)).slice(-6)}catch(s){return"none"}})}else{var s=c.createElement("i");s.title="Raphaël Colour Picker",s.style.display="none",c.body[p](s),U=e(function(t){return s.style.color=t,c.defaultView.getComputedStyle(s,y).getPropertyValue("color")})}return U(i)},Q=function(){return"hsb("+[this.h,this.s,this.b]+")"},Z=function(){return this.hex};t.hsb2rgb=e(function(e,i,r){t.is(e,"object")&&"h"in e&&"s"in e&&"b"in e&&(r=e.b,i=e.s,e=e.h);var s,n,a;if(0==r)return{r:0,g:0,b:0,hex:"#000"};(e>1||i>1||r>1)&&(e/=255,i/=255,r/=255);var o=~~(6*e),h=6*e-o,c=r*(1-i),l=r*(1-i*h),f=r*(1-i*(1-h));s=[r,l,c,c,f,r,r][o],n=[f,r,r,l,c,c,f][o],a=[c,c,f,r,r,l,c][o],s*=255,n*=255,a*=255;var u={r:s,g:n,b:a,toString:Z},p=(~~s)[H](16),d=(~~n)[H](16),g=(~~a)[H](16);return p=p[X](W,"0"),d=d[X](W,"0"),g=g[X](W,"0"),u.hex="#"+p+d+g,u},t),t.rgb2hsb=e(function(e,i,r){if(t.is(e,"object")&&"r"in e&&"g"in e&&"b"in e&&(r=e.b,i=e.g,e=e.r),t.is(e,N)){var s=t.getRGB(e);e=s.r,i=s.g,r=s.b}(e>1||i>1||r>1)&&(e/=255,i/=255,r/=255);var n,a,o=M(e,i,r),h=C(e,i,r),c=o;if(h==o)return{h:0,s:0,b:o};var l=o-h;return a=l/o,n=e==o?(i-r)/l:i==o?2+(r-e)/l:4+(e-i)/l,n/=6,0>n&&n++,n>1&&n--,{h:n,s:a,b:c,toString:Q}},t);var J=/,?([achlmqrstvxz]),?/gi,K=/\s*,\s*/,tt={hs:1,rg:1};t._path2string=function(){return this.join(",")[X](J,"$1")},t.getRGB=e(function(e){if(!e||(e+=y).indexOf("-")+1)return{r:-1,g:-1,b:-1,hex:"none",error:1};if("none"==e)return{r:-1,g:-1,b:-1,hex:"none"};!(tt[h](e.substring(0,2))||"#"==e.charAt())&&(e=U(e));var i,r,s,n,a,o=e.match(L);if(o){if(o[2]&&(s=V(o[2].substring(5),16),r=V(o[2].substring(3,5),16),i=V(o[2].substring(1,3),16)),o[3]&&(s=V((a=o[3].charAt(3))+a,16),r=V((a=o[3].charAt(2))+a,16),i=V((a=o[3].charAt(1))+a,16)),o[4]&&(o=o[4][m](K),i=I(o[0]),r=I(o[1]),s=I(o[2]),n=I(o[3])),o[5]&&(o=o[5][m](K),i=2.55*I(o[0]),r=2.55*I(o[1]),s=2.55*I(o[2]),n=I(o[3])),o[6])return o=o[6][m](K),i=I(o[0]),r=I(o[1]),s=I(o[2]),t.hsb2rgb(i,r,s);if(o[7])return o=o[7][m](K),i=2.55*I(o[0]),r=2.55*I(o[1]),s=2.55*I(o[2]),t.hsb2rgb(i,r,s);o={r:i,g:r,b:s};var c=(~~i)[H](16),l=(~~r)[H](16),f=(~~s)[H](16);return c=c[X](W,"0"),l=l[X](W,"0"),f=f[X](W,"0"),o.hex="#"+c+l+f,isFinite(I(n))&&(o.o=n),o}return{r:-1,g:-1,b:-1,hex:"none",error:1}},t),t.getColor=function(t){var e=this.getColor.start=this.getColor.start||{h:0,s:1,b:t||.75},i=this.hsb2rgb(e.h,e.s,e.b);return e.h+=.075,e.h>1&&(e.h=0,e.s-=.2,e.s<=0&&(this.getColor.start={h:0,s:1,b:e.b})),i.hex},t.getColor.reset=function(){delete this.start};var et=/([achlmqstvz])[\s,]*((-?\d*\.?\d*(?:e[-+]?\d+)?\s*,?\s*)+)/gi,it=/(-?\d*\.?\d*(?:e[-+]?\d+)?)\s*,?\s*/gi;t.parsePathString=e(function(e){if(!e)return null;var i={a:7,c:6,h:1,l:2,m:2,q:4,s:4,t:2,v:1,z:0},r=[];return t.is(e,T)&&t.is(e[0],T)&&(r=st(e)),r[S]||(e+y)[X](et,function(t,e,s){var n=[],a=_.call(e);for(s[X](it,function(t,e){e&&n[P](+e)}),"m"==a&&n[S]>2&&(r[P]([e][g](n.splice(0,2))),a="l",e="m"==e?"l":"L");n[S]>=i[a]&&(r[P]([e][g](n.splice(0,i[a]))),i[a]););}),r[H]=t._path2string,r}),t.findDotsAtSegment=function(t,e,i,r,s,n,a,o,h){var c=1-h,l=E(c,3)*t+3*E(c,2)*h*i+3*c*h*h*s+E(h,3)*a,f=E(c,3)*e+3*E(c,2)*h*r+3*c*h*h*n+E(h,3)*o,u=t+2*h*(i-t)+h*h*(s-2*i+t),p=e+2*h*(r-e)+h*h*(n-2*r+e),d=i+2*h*(s-i)+h*h*(a-2*s+i),g=r+2*h*(n-r)+h*h*(o-2*n+r),v=(1-h)*t+h*i,y=(1-h)*e+h*r,x=(1-h)*s+h*a,m=(1-h)*n+h*o,k=90-180*z.atan((u-d)/(p-g))/z.PI;return(u>d||g>p)&&(k+=180),{x:l,y:f,m:{x:u,y:p},n:{x:d,y:g},start:{x:v,y:y},end:{x:x,y:m},alpha:k}};var rt=e(function(t){if(!t)return{x:0,y:0,width:0,height:0};t=ut(t);for(var e,i=0,r=0,s=[],n=[],a=0,o=t[S];o>a;a++)if(e=t[a],"M"==e[0])i=e[1],r=e[2],s[P](i),n[P](r);else{var h=ft(i,r,e[1],e[2],e[3],e[4],e[5],e[6]);s=s[g](h.min.x,h.max.x),n=n[g](h.min.y,h.max.y),i=e[5],r=e[6]}var c=C[d](0,s),l=C[d](0,n);return{x:c,y:l,width:M[d](0,s)-c,height:M[d](0,n)-l}}),st=function(e){var i=[];t.is(e,T)&&t.is(e&&e[0],T)||(e=t.parsePathString(e));for(var r=0,s=e[S];s>r;r++){i[r]=[];for(var n=0,a=e[r][S];a>n;n++)i[r][n]=e[r][n]}return i[H]=t._path2string,i},nt=e(function(e){t.is(e,T)&&t.is(e&&e[0],T)||(e=t.parsePathString(e));var i=[],r=0,s=0,n=0,a=0,o=0;"M"==e[0][0]&&(r=e[0][1],s=e[0][2],n=r,a=s,o++,i[P](["M",r,s]));for(var h=o,c=e[S];c>h;h++){var l=i[h]=[],f=e[h];if(f[0]!=_.call(f[0]))switch(l[0]=_.call(f[0]),l[0]){case"a":l[1]=f[1],l[2]=f[2],l[3]=f[3],l[4]=f[4],l[5]=f[5],l[6]=+(f[6]-r).toFixed(3),l[7]=+(f[7]-s).toFixed(3);break;case"v":l[1]=+(f[1]-s).toFixed(3);break;case"m":n=f[1],a=f[2];default:for(var u=1,p=f[S];p>u;u++)l[u]=+(f[u]-(u%2?r:s)).toFixed(3)}else{l=i[h]=[],"m"==f[0]&&(n=f[1]+r,a=f[2]+s);for(var d=0,g=f[S];g>d;d++)i[h][d]=f[d]}var v=i[h][S];switch(i[h][0]){case"z":r=n,s=a;break;case"h":r+=+i[h][v-1];break;case"v":s+=+i[h][v-1];break;default:r+=+i[h][v-2],s+=+i[h][v-1]}}return i[H]=t._path2string,i},0,st),at=e(function(e){t.is(e,T)&&t.is(e&&e[0],T)||(e=t.parsePathString(e));var i=[],r=0,s=0,n=0,a=0,o=0;"M"==e[0][0]&&(r=+e[0][1],s=+e[0][2],n=r,a=s,o++,i[0]=["M",r,s]);for(var h=o,c=e[S];c>h;h++){var l=i[h]=[],f=e[h];if(f[0]!=Y.call(f[0]))switch(l[0]=Y.call(f[0]),l[0]){case"A":l[1]=f[1],l[2]=f[2],l[3]=f[3],l[4]=f[4],l[5]=f[5],l[6]=+(f[6]+r),l[7]=+(f[7]+s);break;case"V":l[1]=+f[1]+s;break;case"H":l[1]=+f[1]+r;break;case"M":n=+f[1]+r,a=+f[2]+s;default:for(var u=1,p=f[S];p>u;u++)l[u]=+f[u]+(u%2?r:s)}else for(var d=0,g=f[S];g>d;d++)i[h][d]=f[d];switch(l[0]){case"Z":r=n,s=a;break;case"H":r=l[1];break;case"V":s=l[1];break;default:r=i[h][i[h][S]-2],s=i[h][i[h][S]-1]}}return i[H]=t._path2string,i},null,st),ot=function(t,e,i,r){return[t,e,i,r,i,r]},ht=function(t,e,i,r,s,n){var a=1/3,o=2/3;return[a*t+o*i,a*e+o*r,a*s+o*i,a*n+o*r,s,n]},ct=function(t,i,r,s,n,a,o,h,c,l){var f,u=z.PI,p=120*u/180,d=u/180*(+n||0),v=[],y=e(function(t,e,i){var r=t*z.cos(i)-e*z.sin(i),s=t*z.sin(i)+e*z.cos(i);return{x:r,y:s}});if(l)T=l[0],H=l[1],B=l[2],N=l[3];else{f=y(t,i,-d),t=f.x,i=f.y,f=y(h,c,-d),h=f.x,c=f.y;var x=(z.cos(u/180*n),z.sin(u/180*n),(t-h)/2),k=(i-c)/2,b=x*x/(r*r)+k*k/(s*s);b>1&&(b=z.sqrt(b),r=b*r,s=b*s);var _=r*r,M=s*s,C=(a==o?-1:1)*z.sqrt(z.abs((_*M-_*k*k-M*x*x)/(_*k*k+M*x*x))),B=C*r*k/s+(t+h)/2,N=C*-s*x/r+(i+c)/2,T=z.asin(((i-N)/s).toFixed(7)),H=z.asin(((c-N)/s).toFixed(7));T=B>t?u-T:T,H=B>h?u-H:H,0>T&&(T=2*u+T),0>H&&(H=2*u+H),o&&T>H&&(T-=2*u),!o&&H>T&&(H-=2*u)}var G=H-T;if(z.abs(G)>p){var A=H,E=h,P=c;H=T+p*(o&&H>T?1:-1),h=B+r*z.cos(H),c=N+s*z.sin(H),v=ct(h,c,r,s,n,0,o,E,P,[H,A,B,N])}G=H-T;var W=z.cos(T),R=z.sin(T),L=z.cos(H),q=z.sin(H),j=z.tan(G/4),I=4/3*r*j,V=4/3*s*j,F=[t,i],Y=[t+I*R,i-V*W],D=[h+I*q,c-V*L],O=[h,c];if(Y[0]=2*F[0]-Y[0],Y[1]=2*F[1]-Y[1],l)return[Y,D,O][g](v);v=[Y,D,O][g](v)[w]()[m](",");for(var X=[],$=0,U=v[S];U>$;$++)X[$]=$%2?y(v[$-1],v[$],d).y:y(v[$],v[$+1],d).x;return X},lt=function(t,e,i,r,s,n,a,o,h){var c=1-h;return{x:E(c,3)*t+3*E(c,2)*h*i+3*c*h*h*s+E(h,3)*a,y:E(c,3)*e+3*E(c,2)*h*r+3*c*h*h*n+E(h,3)*o}},ft=e(function(t,e,i,r,s,n,a,o){var h,c=s-2*i+t-(a-2*s+i),l=2*(i-t)-2*(s-i),f=t-i,u=(-l+z.sqrt(l*l-4*c*f))/2/c,p=(-l-z.sqrt(l*l-4*c*f))/2/c,g=[e,o],v=[t,a];return z.abs(u)>1e12&&(u=.5),z.abs(p)>1e12&&(p=.5),u>0&&1>u&&(h=lt(t,e,i,r,s,n,a,o,u),v[P](h.x),g[P](h.y)),p>0&&1>p&&(h=lt(t,e,i,r,s,n,a,o,p),v[P](h.x),g[P](h.y)),c=n-2*r+e-(o-2*n+r),l=2*(r-e)-2*(n-r),f=e-r,u=(-l+z.sqrt(l*l-4*c*f))/2/c,p=(-l-z.sqrt(l*l-4*c*f))/2/c,z.abs(u)>1e12&&(u=.5),z.abs(p)>1e12&&(p=.5),u>0&&1>u&&(h=lt(t,e,i,r,s,n,a,o,u),v[P](h.x),g[P](h.y)),p>0&&1>p&&(h=lt(t,e,i,r,s,n,a,o,p),v[P](h.x),g[P](h.y)),{min:{x:C[d](0,v),y:C[d](0,g)},max:{x:M[d](0,v),y:M[d](0,g)}}}),ut=e(function(t,e){for(var i=at(t),r=e&&at(e),s={x:0,y:0,bx:0,by:0,X:0,Y:0,qx:null,qy:null},n={x:0,y:0,bx:0,by:0,X:0,Y:0,qx:null,qy:null},a=(function(t,e){var i,r;if(!t)return["C",e.x,e.y,e.x,e.y,e.x,e.y];switch(!(t[0]in{T:1,Q:1})&&(e.qx=e.qy=null),t[0]){case"M":e.X=t[1],e.Y=t[2];break;case"A":t=["C"][g](ct[d](0,[e.x,e.y][g](t.slice(1))));break;case"S":i=e.x+(e.x-(e.bx||e.x)),r=e.y+(e.y-(e.by||e.y)),t=["C",i,r][g](t.slice(1));break;case"T":e.qx=e.x+(e.x-(e.qx||e.x)),e.qy=e.y+(e.y-(e.qy||e.y)),t=["C"][g](ht(e.x,e.y,e.qx,e.qy,t[1],t[2]));break;case"Q":e.qx=t[1],e.qy=t[2],t=["C"][g](ht(e.x,e.y,t[1],t[2],t[3],t[4]));break;case"L":t=["C"][g](ot(e.x,e.y,t[1],t[2]));break;case"H":t=["C"][g](ot(e.x,e.y,t[1],e.y));break;case"V":t=["C"][g](ot(e.x,e.y,e.x,t[1]));break;case"Z":t=["C"][g](ot(e.x,e.y,e.X,e.Y))}return t}),o=function(t,e){if(t[e][S]>7){t[e].shift();for(var s=t[e];s[S];)t.splice(e++,0,["C"][g](s.splice(0,6)));t.splice(e,1),l=M(i[S],r&&r[S]||0)}},h=function(t,e,s,n,a){t&&e&&"M"==t[a][0]&&"M"!=e[a][0]&&(e.splice(a,0,["M",n.x,n.y]),s.bx=0,s.by=0,s.x=t[a][1],s.y=t[a][2],l=M(i[S],r&&r[S]||0))},c=0,l=M(i[S],r&&r[S]||0);l>c;c++){i[c]=a(i[c],s),o(i,c),r&&(r[c]=a(r[c],n)),r&&o(r,c),h(i,r,s,n,c),h(r,i,n,s,c);var f=i[c],u=r&&r[c],p=f[S],v=r&&u[S];s.x=f[p-2],s.y=f[p-1],s.bx=I(f[p-4])||s.x,s.by=I(f[p-3])||s.y,n.bx=r&&(I(u[v-4])||n.x),n.by=r&&(I(u[v-3])||n.y),n.x=r&&u[v-2],n.y=r&&u[v-1]}return r?[i,r]:i},null,st),pt=e(function(e){for(var i=[],r=0,s=e[S];s>r;r++){var n={},a=e[r].match(/^([^:]*):?([\d\.]*)/);if(n.color=t.getRGB(a[1]),n.color.error)return null;n.color=n.color.hex,a[2]&&(n.offset=a[2]+"%"),i[P](n)}for(r=1,s=i[S]-1;s>r;r++)if(!i[r].offset){for(var o=I(i[r-1].offset||0),h=0,c=r+1;s>c;c++)if(i[c].offset){h=i[c].offset;break}h||(h=100,c=s),h=I(h);for(var l=(h-o)/(c-r+1);c>r;r++)o+=l,i[r].offset=o+"%"}return i}),dt=function(e,i,r,s){var n;return t.is(e,N)||t.is(e,"object")?(n=t.is(e,N)?c.getElementById(e):e,n.tagName?null==i?{container:n,width:n.style.pixelWidth||n.offsetWidth,height:n.style.pixelHeight||n.offsetHeight}:{container:n,width:i,height:r}:void 0):{container:1,x:e,y:i,width:r,height:s}},gt=function(t,e){var i=this;for(var r in e)if(e[h](r)&&!(r in t))switch(typeof e[r]){case"function":!function(e){t[r]=t===i?e:function(){return e[d](i,arguments)}}(e[r]);break;case"object":t[r]=t[r]||{},gt.call(this,t[r],e[r]);break;default:t[r]=e[r]}},vt=function(t,e){t==e.top&&(e.top=t.prev),t==e.bottom&&(e.bottom=t.next),t.next&&(t.next.prev=t.prev),t.prev&&(t.prev.next=t.next)},yt=function(t,e){e.top!==t&&(vt(t,e),t.next=null,t.prev=e.top,e.top.next=t,e.top=t)},xt=function(t,e){e.bottom!==t&&(vt(t,e),t.next=e.bottom,t.prev=null,e.bottom.prev=t,e.bottom=t)},mt=function(t,e,i){vt(t,i),e==i.top&&(i.top=t),e.next&&(e.next.prev=t),t.next=e.next,t.prev=e,e.next=t},kt=function(t,e,i){vt(t,i),e==i.bottom&&(i.bottom=t),e.prev&&(e.prev.next=t),t.prev=e.prev,e.prev=t,t.next=e},bt=function(t){return function(){throw new Error("Raphaël: you are calling to method “"+t+"” of removed object")}},wt=/^r(?:\(([^,]+?)\s*,\s*([^\)]+?)\))?/;if(t.svg){u[o].svgns="http://www.w3.org/2000/svg",u[o].xlink="http://www.w3.org/1999/xlink",q=function(t){return+t+.5*(~~t===t)};var St=function(t,e){if(!e)return t=c.createElementNS(u[o].svgns,t),t.style.webkitTapHighlightColor="rgba(0,0,0,0)",t;for(var i in e)e[h](i)&&t[j](i,e[i]+y)};t[H]=function(){return"Your browser supports SVG.\nYou are running Raphaël "+this.version};var _t=function(t,e){var i=St("path");e.canvas&&e.canvas[p](i);var r=new Tt(i,e);return r.type="path",Ct(r,{fill:"none",stroke:"#000",path:t}),r},zt=function(e,i,r){var s="linear",n=.5,a=.5,o=e.style;if(i=(i+y)[X](wt,function(t,e,i){if(s="radial",e&&i){n=I(e),a=I(i);var r=2*(a>.5)-1;E(n-.5,2)+E(a-.5,2)>.25&&(a=z.sqrt(.25-E(n-.5,2))*r+.5)&&.5!=a&&(a=a.toFixed(5)-1e-5*r)}return y}),i=i[m](/\s*\-\s*/),"linear"==s){var h=i.shift();if(h=-I(h),isNaN(h))return null;var l=[0,0,z.cos(h*z.PI/180),z.sin(h*z.PI/180)],f=1/(M(z.abs(l[2]),z.abs(l[3]))||1);l[2]*=f,l[3]*=f,l[2]<0&&(l[0]=-l[2],l[2]=0),l[3]<0&&(l[1]=-l[3],l[3]=0)}var u=pt(i);if(!u)return null;var d=e.getAttribute(G);d=d.match(/^url\(#(.*)\)$/),d&&r.defs.removeChild(c.getElementById(d[1]));var g=St(s+"Gradient");g.id="r"+(t._id++)[H](36),St(g,"radial"==s?{fx:n,fy:a}:{x1:l[0],y1:l[1],x2:l[2],y2:l[3]}),r.defs[p](g);for(var v=0,x=u[S];x>v;v++){var k=St("stop");St(k,{offset:u[v].offset?u[v].offset:v?"100%":"0%","stop-color":u[v].color||"#fff"}),g[p](k)}return St(e,{fill:"url(#"+g.id+")",opacity:1,"fill-opacity":1}),o.fill=y,o.opacity=1,o.fillOpacity=1,1},Mt=function(e){var i=e.getBBox();St(e.pattern,{patternTransform:t.format("translate({0},{1})",i.x,i.y)})},Ct=function(e,i){var r={"":[0],none:[0],"-":[3,1],".":[1,1],"-.":[3,1,1,1],"-..":[3,1,1,1,1,1],". ":[1,3],"- ":[4,3],"--":[8,3],"- .":[4,3,1,3],"--.":[8,3,1,3],"--..":[8,3,1,3,1,3]},s=e.node,a=e.attrs,o=e.rotate(),l=function(t,e){if(e=r[_.call(e)]){for(var n=t.attrs["stroke-width"]||"1",a={round:n,square:n,butt:0}[t.attrs["stroke-linecap"]||i["stroke-linecap"]]||0,o=[],h=e[S];h--;)o[h]=e[h]*n+(h%2?1:-1)*a;St(s,{"stroke-dasharray":o[w](",")})}};i[h]("rotation")&&(o=i.rotation);var f=(o+y)[m](n);f.length-1?(f[1]=+f[1],f[2]=+f[2]):f=null,I(o)&&e.rotate(0,!0);for(var u in i)if(i[h](u)){if(!D[h](u))continue;var d=i[u];switch(a[u]=d,u){case"blur":e.blur(d);break;case"rotation":e.rotate(d,!0);break;case"href":case"title":case"target":var g=s.parentNode;if("a"!=_.call(g.tagName)){var v=St("a");g.insertBefore(v,s),v[p](s),g=v}g.setAttributeNS(e.paper.xlink,u,d);break;case"cursor":s.style.cursor=d;break;case"clip-rect":var k=(d+y)[m](n);if(4==k[S]){e.clip&&e.clip.parentNode.parentNode.removeChild(e.clip.parentNode);var b=St("clipPath"),z=St("rect");b.id="r"+(t._id++)[H](36),St(z,{x:k[0],y:k[1],width:k[2],height:k[3]}),b[p](z),e.paper.defs[p](b),St(s,{"clip-path":"url(#"+b.id+")"}),e.clip=z}if(!d){var M=c.getElementById(s.getAttribute("clip-path")[X](/(^url\(#|\)$)/g,y));M&&M.parentNode.removeChild(M),St(s,{"clip-path":y}),delete e.clip}break;case"path":"path"==e.type&&St(s,{d:d?a.path=at(d):"M0,0"});break;case"width":if(s[j](u,d),!a.fx)break;u="x",d=a.x;case"x":a.fx&&(d=-a.x-(a.width||0));case"rx":if("rx"==u&&"rect"==e.type)break;case"cx":f&&("x"==u||"cx"==u)&&(f[1]+=d-a[u]),s[j](u,q(d)),e.pattern&&Mt(e);break;case"height":if(s[j](u,d),!a.fy)break;u="y",d=a.y;case"y":a.fy&&(d=-a.y-(a.height||0));case"ry":if("ry"==u&&"rect"==e.type)break;case"cy":f&&("y"==u||"cy"==u)&&(f[2]+=d-a[u]),s[j](u,q(d)),e.pattern&&Mt(e);break;case"r":"rect"==e.type?St(s,{rx:d,ry:d}):s[j](u,d);break;case"src":"image"==e.type&&s.setAttributeNS(e.paper.xlink,"href",d);break;case"stroke-width":s.style.strokeWidth=d,s[j](u,d),a["stroke-dasharray"]&&l(e,a["stroke-dasharray"]);break;case"stroke-dasharray":l(e,d);break;case"translation":var C=(d+y)[m](n);C[0]=+C[0]||0,C[1]=+C[1]||0,f&&(f[1]+=C[0],f[2]+=C[1]),ce.call(e,C[0],C[1]);break;case"scale":C=(d+y)[m](n),e.scale(+C[0]||1,+C[1]||+C[0]||1,isNaN(I(C[2]))?null:+C[2],isNaN(I(C[3]))?null:+C[3]);break;case G:var B=(d+y).match(R);if(B){b=St("pattern");var N=St("image");b.id="r"+(t._id++)[H](36),St(b,{x:0,y:0,patternUnits:"userSpaceOnUse",height:1,width:1}),St(N,{x:0,y:0}),N.setAttributeNS(e.paper.xlink,"href",B[1]),b[p](N);var T=c.createElement("img");T.style.cssText="position:absolute;left:-9999em;top-9999em",T.onload=function(){St(b,{width:this.offsetWidth,height:this.offsetHeight}),St(N,{width:this.offsetWidth,height:this.offsetHeight}),c.body.removeChild(this),e.paper.safari()},c.body[p](T),T.src=B[1],e.paper.defs[p](b),s.style.fill="url(#"+b.id+")",St(s,{fill:"url(#"+b.id+")"}),e.pattern=b,e.pattern&&Mt(e);break}var A=t.getRGB(d);if(A.error){if(({circle:1,ellipse:1}[h](e.type)||"r"!=(d+y).charAt())&&zt(s,d,e.paper)){a.gradient=d,a.fill="none";break}}else delete i.gradient,delete a.gradient,!t.is(a.opacity,"undefined")&&t.is(i.opacity,"undefined")&&St(s,{opacity:a.opacity}),!t.is(a["fill-opacity"],"undefined")&&t.is(i["fill-opacity"],"undefined")&&St(s,{"fill-opacity":a["fill-opacity"]});A[h]("o")&&St(s,{"fill-opacity":A.o/100});case"stroke":A=t.getRGB(d),s[j](u,A.hex),"stroke"==u&&A[h]("o")&&St(s,{"stroke-opacity":A.o/100});break;case"gradient":(({circle:1,ellipse:1})[h](e.type)||"r"!=(d+y).charAt())&&zt(s,d,e.paper);break;case"opacity":case"fill-opacity":if(a.gradient){var E=c.getElementById(s.getAttribute(G)[X](/^url\(#|\)$/g,y));if(E){var P=E.getElementsByTagName("stop");P[P[S]-1][j]("stop-opacity",d)}break}default:"font-size"==u&&(d=V(d,10)+"px");var W=u[X](/(\-.)/g,function(t){return Y.call(t.substring(1))});s.style[W]=d,s[j](u,d)}}Nt(e,i),f?e.rotate(f.join(x)):I(o)&&e.rotate(o,!0)},Bt=1.2,Nt=function(t,e){if("text"==t.type&&(e[h]("text")||e[h]("font")||e[h]("font-size")||e[h]("x")||e[h]("y"))){var i=t.attrs,r=t.node,s=r.firstChild?V(c.defaultView.getComputedStyle(r.firstChild,y).getPropertyValue("font-size"),10):10;if(e[h]("text")){for(i.text=e.text;r.firstChild;)r.removeChild(r.firstChild);for(var n=(e.text+y)[m]("\n"),a=0,o=n[S];o>a;a++)if(n[a]){var l=St("tspan");a&&St(l,{dy:s*Bt,x:i.x}),l[p](c.createTextNode(n[a])),r[p](l)}}else for(n=r.getElementsByTagName("tspan"),a=0,o=n[S];o>a;a++)a&&St(n[a],{dy:s*Bt,x:i.x});St(r,{y:i.y});var f=t.getBBox(),u=i.y-(f.y+f.height/2);u&&isFinite(u)&&St(r,{y:i.y+u})}},Tt=function(e,i){this[0]=e,this.id=t._oid++,this.node=e,e.raphael=this,this.paper=i,this.attrs=this.attrs||{},this.transformations=[],this._={tx:0,ty:0,rt:{deg:0,cx:0,cy:0},sx:1,sy:1},!i.bottom&&(i.bottom=this),this.prev=i.top,i.top&&(i.top.next=this),i.top=this,this.next=null};Tt[o].rotate=function(e,i,r){if(this.removed)return this;if(null==e)return this._.rt.cx?[this._.rt.deg,this._.rt.cx,this._.rt.cy][w](x):this._.rt.deg;var s=this.getBBox();return e=(e+y)[m](n),e[S]-1&&(i=I(e[1]),r=I(e[2])),e=I(e[0]),null!=i?this._.rt.deg=e:this._.rt.deg+=e,null==r&&(i=null),this._.rt.cx=i,this._.rt.cy=r,i=null==i?s.x+s.width/2:i,r=null==r?s.y+s.height/2:r,this._.rt.deg?(this.transformations[0]=t.format("rotate({0} {1} {2})",this._.rt.deg,i,r),this.clip&&St(this.clip,{transform:t.format("rotate({0} {1} {2})",-this._.rt.deg,i,r)})):(this.transformations[0]=y,this.clip&&St(this.clip,{transform:y})),St(this.node,{transform:this.transformations[w](x)}),this},Tt[o].hide=function(){return!this.removed&&(this.node.style.display="none"),this},Tt[o].show=function(){return!this.removed&&(this.node.style.display=""),this},Tt[o].remove=function(){if(!this.removed){vt(this,this.paper),this.node.parentNode.removeChild(this.node);for(var t in this)delete this[t];this.removed=!0}},Tt[o].getBBox=function(){if(this.removed)return this;if("path"==this.type)return rt(this.attrs.path);if("none"==this.node.style.display){this.show();var t=!0}var e={};try{e=this.node.getBBox()}catch(i){}finally{e=e||{}}if("text"==this.type){e={x:e.x,y:1/0,width:0,height:0};for(var r=0,s=this.node.getNumberOfChars();s>r;r++){var n=this.node.getExtentOfChar(r);n.y<e.y&&(e.y=n.y),n.y+n.height-e.y>e.height&&(e.height=n.y+n.height-e.y),n.x+n.width-e.x>e.width&&(e.width=n.x+n.width-e.x)}}return t&&this.hide(),e},Tt[o].attr=function(e,i){if(this.removed)return this;if(null==e){var r={};for(var s in this.attrs)this.attrs[h](s)&&(r[s]=this.attrs[s]);return this._.rt.deg&&(r.rotation=this.rotate()),(1!=this._.sx||1!=this._.sy)&&(r.scale=this.scale()),r.gradient&&"none"==r.fill&&(r.fill=r.gradient)&&delete r.gradient,r}if(null==i&&t.is(e,N))return"translation"==e?ce.call(this):"rotation"==e?this.rotate():"scale"==e?this.scale():e==G&&"none"==this.attrs.fill&&this.attrs.gradient?this.attrs.gradient:this.attrs[e];if(null==i&&t.is(e,T)){for(var n={},a=0,o=e.length;o>a;a++)n[e[a]]=this.attr(e[a]);return n}if(null!=i){var c={};c[e]=i,Ct(this,c)}else null!=e&&t.is(e,"object")&&Ct(this,e);return this},Tt[o].toFront=function(){if(this.removed)return this;this.node.parentNode[p](this.node);var t=this.paper;return t.top!=this&&yt(this,t),this},Tt[o].toBack=function(){if(this.removed)return this;if(this.node.parentNode.firstChild!=this.node){this.node.parentNode.insertBefore(this.node,this.node.parentNode.firstChild),xt(this,this.paper);this.paper}return this},Tt[o].insertAfter=function(t){if(this.removed)return this;var e=t.node;return e.nextSibling?e.parentNode.insertBefore(this.node,e.nextSibling):e.parentNode[p](this.node),mt(this,t,this.paper),this},Tt[o].insertBefore=function(t){if(this.removed)return this;var e=t.node;return e.parentNode.insertBefore(this.node,e),kt(this,t,this.paper),this},Tt[o].blur=function(e){var i=this;if(0!==+e){var r=St("filter"),s=St("feGaussianBlur");i.attrs.blur=e,r.id="r"+(t._id++)[H](36),St(s,{stdDeviation:+e||1.5}),r.appendChild(s),i.paper.defs.appendChild(r),i._blur=r,St(i.node,{filter:"url(#"+r.id+")"})}else i._blur&&(i._blur.parentNode.removeChild(i._blur),delete i._blur,delete i.attrs.blur),i.node.removeAttribute("filter")};var Ht=function(t,e,i,r){e=q(e),i=q(i);var s=St("circle");t.canvas&&t.canvas[p](s);var n=new Tt(s,t);return n.attrs={cx:e,cy:i,r:r,fill:"none",stroke:"#000"},n.type="circle",St(s,n.attrs),n},Gt=function(t,e,i,r,s,n){e=q(e),i=q(i);var a=St("rect");t.canvas&&t.canvas[p](a);var o=new Tt(a,t);return o.attrs={x:e,y:i,width:r,height:s,r:n||0,rx:n||0,ry:n||0,fill:"none",stroke:"#000"},o.type="rect",St(a,o.attrs),o},At=function(t,e,i,r,s){e=q(e),i=q(i);var n=St("ellipse");t.canvas&&t.canvas[p](n);var a=new Tt(n,t);return a.attrs={cx:e,cy:i,rx:r,ry:s,fill:"none",stroke:"#000"},a.type="ellipse",St(n,a.attrs),a},Et=function(t,e,i,r,s,n){var a=St("image");St(a,{x:i,y:r,width:s,height:n,preserveAspectRatio:"none"}),a.setAttributeNS(t.xlink,"href",e),t.canvas&&t.canvas[p](a);var o=new Tt(a,t);return o.attrs={x:i,y:r,width:s,height:n,src:e},o.type="image",o},Pt=function(t,e,i,r){var s=St("text");St(s,{x:e,y:i,"text-anchor":"middle"}),t.canvas&&t.canvas[p](s);var n=new Tt(s,t);return n.attrs={x:e,y:i,"text-anchor":"middle",text:r,font:D.font,stroke:"none",fill:"#000"},n.type="text",Ct(n,n.attrs),n},Wt=function(t,e){return this.width=t||this.width,this.height=e||this.height,this.canvas[j]("width",this.width),this.canvas[j]("height",this.height),this},Rt=function(){var e=dt[d](0,arguments),i=e&&e.container,r=e.x,s=e.y,n=e.width,a=e.height;if(!i)throw new Error("SVG container not found.");var o=St("svg");return r=r||0,s=s||0,n=n||512,a=a||342,St(o,{xmlns:"http://www.w3.org/2000/svg",version:1.1,width:n,height:a}),1==i?(o.style.cssText="position:absolute;left:"+r+"px;top:"+s+"px",c.body[p](o)):i.firstChild?i.insertBefore(o,i.firstChild):i[p](o),i=new u,i.width=n,i.height=a,i.canvas=o,gt.call(i,i,t.fn),i.clear(),i};u[o].clear=function(){for(var t=this.canvas;t.firstChild;)t.removeChild(t.firstChild);this.bottom=this.top=null,(this.desc=St("desc"))[p](c.createTextNode("Created with Raphaël")),t[p](this.desc),t[p](this.defs=St("defs"))},u[o].remove=function(){this.canvas.parentNode&&this.canvas.parentNode.removeChild(this.canvas);for(var t in this)this[t]=bt(t)}}if(t.vml){var Lt={M:"m",L:"l",C:"c",Z:"x",m:"t",l:"r",c:"v",z:"x"},qt=/([clmz]),?([^clmz]*)/gi,jt=/-?[^,\s-]+/g,It=1e3+x+1e3,Vt=10,Ft={path:1,rect:1},Yt=function(t){var e=/[ahqstv]/gi,i=at;if((t+y).match(e)&&(i=ut),e=/[clmz]/g,i==at&&!(t+y).match(e)){var r=(t+y)[X](qt,function(t,e,i){var r=[],s="m"==_.call(e),n=Lt[e];return i[X](jt,function(t){s&&2==r[S]&&(n+=r+Lt["m"==e?"l":"L"],r=[]),r[P](q(t*Vt))}),n+r});return r}var s,n,a=i(t);r=[];for(var o=0,h=a[S];h>o;o++){s=a[o],n=_.call(a[o][0]),"z"==n&&(n="x");for(var c=1,l=s[S];l>c;c++)n+=q(s[c]*Vt)+(c!=l-1?",":y);r[P](n)}return r[w](x)};t[H]=function(){return"Your browser doesn’t support SVG. Falling down to VML.\nYou are running Raphaël "+this.version},_t=function(t,e){var i=Ot("group");i.style.cssText="position:absolute;left:0;top:0;width:"+e.width+"px;height:"+e.height+"px",i.coordsize=e.coordsize,i.coordorigin=e.coordorigin;var r=Ot("shape"),s=r.style;s.width=e.width+"px",s.height=e.height+"px",r.coordsize=It,r.coordorigin=e.coordorigin,i[p](r);var n=new Tt(r,i,e),a={fill:"none",stroke:"#000"};return t&&(a.path=t),n.isAbsolute=!0,n.type="path",n.path=[],n.Path=y,Ct(n,a),e.canvas[p](i),n},Ct=function(e,r){e.attrs=e.attrs||{};var s,a=e.node,o=e.attrs,l=a.style,f=(r.x!=o.x||r.y!=o.y||r.width!=o.width||r.height!=o.height||r.r!=o.r)&&"rect"==e.type,u=e;
for(var d in r)r[h](d)&&(o[d]=r[d]);if(f&&(o.path=i(o.x,o.y,o.width,o.height,o.r),e.X=o.x,e.Y=o.y,e.W=o.width,e.H=o.height),r.href&&(a.href=r.href),r.title&&(a.title=r.title),r.target&&(a.target=r.target),r.cursor&&(l.cursor=r.cursor),"blur"in r&&e.blur(r.blur),(r.path&&"path"==e.type||f)&&(a.path=Yt(o.path)),null!=r.rotation&&e.rotate(r.rotation,!0),r.translation&&(s=(r.translation+y)[m](n),ce.call(e,s[0],s[1]),null!=e._.rt.cx&&(e._.rt.cx+=+s[0],e._.rt.cy+=+s[1],e.setBox(e.attrs,s[0],s[1]))),r.scale&&(s=(r.scale+y)[m](n),e.scale(+s[0]||1,+s[1]||+s[0]||1,+s[2]||null,+s[3]||null)),"clip-rect"in r){var g=(r["clip-rect"]+y)[m](n);if(4==g[S]){g[2]=+g[2]+ +g[0],g[3]=+g[3]+ +g[1];var v=a.clipRect||c.createElement("div"),x=v.style,k=a.parentNode;x.clip=t.format("rect({1}px {2}px {3}px {0}px)",g),a.clipRect||(x.position="absolute",x.top=0,x.left=0,x.width=e.paper.width+"px",x.height=e.paper.height+"px",k.parentNode.insertBefore(v,k),v[p](k),a.clipRect=v)}r["clip-rect"]||a.clipRect&&(a.clipRect.style.clip=y)}if("image"==e.type&&r.src&&(a.src=r.src),"image"==e.type&&r.opacity&&(a.filterOpacity=F+".Alpha(opacity="+100*r.opacity+")",l.filter=(a.filterMatrix||y)+(a.filterOpacity||y)),r.font&&(l.font=r.font),r["font-family"]&&(l.fontFamily='"'+r["font-family"][m](",")[0][X](/^['"]+|['"]+$/g,y)+'"'),r["font-size"]&&(l.fontSize=r["font-size"]),r["font-weight"]&&(l.fontWeight=r["font-weight"]),r["font-style"]&&(l.fontStyle=r["font-style"]),null!=r.opacity||null!=r["stroke-width"]||null!=r.fill||null!=r.stroke||null!=r["stroke-width"]||null!=r["stroke-opacity"]||null!=r["fill-opacity"]||null!=r["stroke-dasharray"]||null!=r["stroke-miterlimit"]||null!=r["stroke-linejoin"]||null!=r["stroke-linecap"]){a=e.shape||a;var b=a.getElementsByTagName(G)&&a.getElementsByTagName(G)[0],w=!1;if(!b&&(w=b=Ot(G)),"fill-opacity"in r||"opacity"in r){var _=((+o["fill-opacity"]+1||2)-1)*((+o.opacity+1||2)-1)*((+t.getRGB(r.fill).o+1||2)-1);0>_&&(_=0),_>1&&(_=1),b.opacity=_}if(r.fill&&(b.on=!0),(null==b.on||"none"==r.fill)&&(b.on=!1),b.on&&r.fill){var z=r.fill.match(R);z?(b.src=z[1],b.type="tile"):(b.color=t.getRGB(r.fill).hex,b.src=y,b.type="solid",t.getRGB(r.fill).error&&(u.type in{circle:1,ellipse:1}||"r"!=(r.fill+y).charAt())&&zt(u,r.fill)&&(o.fill="none",o.gradient=r.fill))}w&&a[p](b);var M=a.getElementsByTagName("stroke")&&a.getElementsByTagName("stroke")[0],C=!1;!M&&(C=M=Ot("stroke")),(r.stroke&&"none"!=r.stroke||r["stroke-width"]||null!=r["stroke-opacity"]||r["stroke-dasharray"]||r["stroke-miterlimit"]||r["stroke-linejoin"]||r["stroke-linecap"])&&(M.on=!0),("none"==r.stroke||null==M.on||0==r.stroke||0==r["stroke-width"])&&(M.on=!1);var B=t.getRGB(r.stroke);M.on&&r.stroke&&(M.color=B.hex),_=((+o["stroke-opacity"]+1||2)-1)*((+o.opacity+1||2)-1)*((+B.o+1||2)-1);var N=.75*(I(r["stroke-width"])||1);if(0>_&&(_=0),_>1&&(_=1),null==r["stroke-width"]&&(N=o["stroke-width"]),r["stroke-width"]&&(M.weight=N),N&&1>N&&(_*=N)&&(M.weight=1),M.opacity=_,r["stroke-linejoin"]&&(M.joinstyle=r["stroke-linejoin"]||"miter"),M.miterlimit=r["stroke-miterlimit"]||8,r["stroke-linecap"]&&(M.endcap="butt"==r["stroke-linecap"]?"flat":"square"==r["stroke-linecap"]?"square":"round"),r["stroke-dasharray"]){var T={"-":"shortdash",".":"shortdot","-.":"shortdashdot","-..":"shortdashdotdot",". ":"dot","- ":"dash","--":"longdash","- .":"dashdot","--.":"longdashdot","--..":"longdashdotdot"};M.dashstyle=T[h](r["stroke-dasharray"])?T[r["stroke-dasharray"]]:y}C&&a[p](M)}if("text"==u.type)switch(l=u.paper.span.style,o.font&&(l.font=o.font),o["font-family"]&&(l.fontFamily=o["font-family"]),o["font-size"]&&(l.fontSize=o["font-size"]),o["font-weight"]&&(l.fontWeight=o["font-weight"]),o["font-style"]&&(l.fontStyle=o["font-style"]),u.node.string&&(u.paper.span.innerHTML=(u.node.string+y)[X](/</g,"&#60;")[X](/&/g,"&#38;")[X](/\n/g,"<br>")),u.W=o.w=u.paper.span.offsetWidth,u.H=o.h=u.paper.span.offsetHeight,u.X=o.x,u.Y=o.y+q(u.H/2),o["text-anchor"]){case"start":u.node.style["v-text-align"]="left",u.bbx=q(u.W/2);break;case"end":u.node.style["v-text-align"]="right",u.bbx=-q(u.W/2);break;default:u.node.style["v-text-align"]="center"}},zt=function(t,e){t.attrs=t.attrs||{};var i,r=(t.attrs,"linear"),s=".5 .5";if(t.attrs.gradient=e,e=(e+y)[X](wt,function(t,e,i){return r="radial",e&&i&&(e=I(e),i=I(i),E(e-.5,2)+E(i-.5,2)>.25&&(i=z.sqrt(.25-E(e-.5,2))*(2*(i>.5)-1)+.5),s=e+x+i),y}),e=e[m](/\s*\-\s*/),"linear"==r){var n=e.shift();if(n=-I(n),isNaN(n))return null}var a=pt(e);if(!a)return null;if(t=t.shape||t.node,i=t.getElementsByTagName(G)[0]||Ot(G),!i.parentNode&&t.appendChild(i),a[S]){i.on=!0,i.method="none",i.color=a[0].color,i.color2=a[a[S]-1].color;for(var o=[],h=0,c=a[S];c>h;h++)a[h].offset&&o[P](a[h].offset+x+a[h].color);i.colors&&(i.colors.value=o[S]?o[w]():"0% "+i.color),"radial"==r?(i.type="gradientradial",i.focus="100%",i.focussize=s,i.focusposition=s):(i.type="gradient",i.angle=(270-n)%360)}return 1},Tt=function(e,i,r){this[0]=e,this.id=t._oid++,this.node=e,e.raphael=this,this.X=0,this.Y=0,this.attrs={},this.Group=i,this.paper=r,this._={tx:0,ty:0,rt:{deg:0},sx:1,sy:1},!r.bottom&&(r.bottom=this),this.prev=r.top,r.top&&(r.top.next=this),r.top=this,this.next=null},Tt[o].rotate=function(t,e,i){return this.removed?this:null==t?this._.rt.cx?[this._.rt.deg,this._.rt.cx,this._.rt.cy][w](x):this._.rt.deg:(t=(t+y)[m](n),t[S]-1&&(e=I(t[1]),i=I(t[2])),t=I(t[0]),null!=e?this._.rt.deg=t:this._.rt.deg+=t,null==i&&(e=null),this._.rt.cx=e,this._.rt.cy=i,this.setBox(this.attrs,e,i),this.Group.style.rotation=this._.rt.deg,this)},Tt[o].setBox=function(t,e,i){if(this.removed)return this;var r=this.Group.style,s=this.shape&&this.shape.style||this.node.style;t=t||{};for(var n in t)t[h](n)&&(this.attrs[n]=t[n]);e=e||this._.rt.cx,i=i||this._.rt.cy;var a,o,c,l,f=this.attrs;switch(this.type){case"circle":a=f.cx-f.r,o=f.cy-f.r,c=l=2*f.r;break;case"ellipse":a=f.cx-f.rx,o=f.cy-f.ry,c=2*f.rx,l=2*f.ry;break;case"image":a=+f.x,o=+f.y,c=f.width||0,l=f.height||0;break;case"text":this.textpath.v=["m",q(f.x),", ",q(f.y-2),"l",q(f.x)+1,", ",q(f.y-2)][w](y),a=f.x-q(this.W/2),o=f.y-this.H/2,c=this.W,l=this.H;break;case"rect":case"path":if(this.attrs.path){var u=rt(this.attrs.path);a=u.x,o=u.y,c=u.width,l=u.height}else a=0,o=0,c=this.paper.width,l=this.paper.height;break;default:a=0,o=0,c=this.paper.width,l=this.paper.height}e=null==e?a+c/2:e,i=null==i?o+l/2:i;var p,d=e-this.paper.width/2,g=i-this.paper.height/2;r.left!=(p=d+"px")&&(r.left=p),r.top!=(p=g+"px")&&(r.top=p),this.X=Ft[h](this.type)?-d:a,this.Y=Ft[h](this.type)?-g:o,this.W=c,this.H=l,Ft[h](this.type)?(s.left!=(p=-d*Vt+"px")&&(s.left=p),s.top!=(p=-g*Vt+"px")&&(s.top=p)):"text"==this.type?(s.left!=(p=-d+"px")&&(s.left=p),s.top!=(p=-g+"px")&&(s.top=p)):(r.width!=(p=this.paper.width+"px")&&(r.width=p),r.height!=(p=this.paper.height+"px")&&(r.height=p),s.left!=(p=a-d+"px")&&(s.left=p),s.top!=(p=o-g+"px")&&(s.top=p),s.width!=(p=c+"px")&&(s.width=p),s.height!=(p=l+"px")&&(s.height=p))},Tt[o].hide=function(){return!this.removed&&(this.Group.style.display="none"),this},Tt[o].show=function(){return!this.removed&&(this.Group.style.display="block"),this},Tt[o].getBBox=function(){return this.removed?this:Ft[h](this.type)?rt(this.attrs.path):{x:this.X+(this.bbx||0),y:this.Y,width:this.W,height:this.H}},Tt[o].remove=function(){if(!this.removed){vt(this,this.paper),this.node.parentNode.removeChild(this.node),this.Group.parentNode.removeChild(this.Group),this.shape&&this.shape.parentNode.removeChild(this.shape);for(var t in this)delete this[t];this.removed=!0}},Tt[o].attr=function(e,i){if(this.removed)return this;if(null==e){var r={};for(var s in this.attrs)this.attrs[h](s)&&(r[s]=this.attrs[s]);return this._.rt.deg&&(r.rotation=this.rotate()),(1!=this._.sx||1!=this._.sy)&&(r.scale=this.scale()),r.gradient&&"none"==r.fill&&(r.fill=r.gradient)&&delete r.gradient,r}if(null==i&&t.is(e,N))return"translation"==e?ce.call(this):"rotation"==e?this.rotate():"scale"==e?this.scale():e==G&&"none"==this.attrs.fill&&this.attrs.gradient?this.attrs.gradient:this.attrs[e];if(this.attrs&&null==i&&t.is(e,T)){var n,a={};for(s=0,n=e[S];n>s;s++)a[e[s]]=this.attr(e[s]);return a}var o;return null!=i&&(o={},o[e]=i),null==i&&t.is(e,"object")&&(o=e),o&&(o.text&&"text"==this.type&&(this.node.string=o.text),Ct(this,o),o.gradient&&({circle:1,ellipse:1}[h](this.type)||"r"!=(o.gradient+y).charAt())&&zt(this,o.gradient),(!Ft[h](this.type)||this._.rt.deg)&&this.setBox(this.attrs)),this},Tt[o].toFront=function(){return!this.removed&&this.Group.parentNode[p](this.Group),this.paper.top!=this&&yt(this,this.paper),this},Tt[o].toBack=function(){return this.removed?this:(this.Group.parentNode.firstChild!=this.Group&&(this.Group.parentNode.insertBefore(this.Group,this.Group.parentNode.firstChild),xt(this,this.paper)),this)},Tt[o].insertAfter=function(t){return this.removed?this:(t.Group.nextSibling?t.Group.parentNode.insertBefore(this.Group,t.Group.nextSibling):t.Group.parentNode[p](this.Group),mt(this,t,this.paper),this)},Tt[o].insertBefore=function(t){return this.removed?this:(t.Group.parentNode.insertBefore(this.Group,t.Group),kt(this,t,this.paper),this)};var Dt=/ progid:\S+Blur\([^\)]+\)/g;Tt[o].blur=function(t){var e=this.node.style,i=e.filter;i=i.replace(Dt,""),0!==+t?(this.attrs.blur=t,e.filter=i+F+".Blur(pixelradius="+(+t||1.5)+")",e.margin=Raphael.format("-{0}px 0 0 -{0}px",Math.round(+t||1.5))):(e.filter=i,e.margin=0,delete this.attrs.blur)},Ht=function(t,e,i,r){var s=Ot("group"),n=Ot("oval");n.style;s.style.cssText="position:absolute;left:0;top:0;width:"+t.width+"px;height:"+t.height+"px",s.coordsize=It,s.coordorigin=t.coordorigin,s[p](n);var a=new Tt(n,s,t);return a.type="circle",Ct(a,{stroke:"#000",fill:"none"}),a.attrs.cx=e,a.attrs.cy=i,a.attrs.r=r,a.setBox({x:e-r,y:i-r,width:2*r,height:2*r}),t.canvas[p](s),a},Gt=function(t,e,r,s,n,a){var o=i(e,r,s,n,a),h=t.path(o),c=h.attrs;return h.X=c.x=e,h.Y=c.y=r,h.W=c.width=s,h.H=c.height=n,c.r=a,c.path=o,h.type="rect",h},At=function(t,e,i,r,s){var n=Ot("group"),a=Ot("oval");a.style;n.style.cssText="position:absolute;left:0;top:0;width:"+t.width+"px;height:"+t.height+"px",n.coordsize=It,n.coordorigin=t.coordorigin,n[p](a);var o=new Tt(a,n,t);return o.type="ellipse",Ct(o,{stroke:"#000"}),o.attrs.cx=e,o.attrs.cy=i,o.attrs.rx=r,o.attrs.ry=s,o.setBox({x:e-r,y:i-s,width:2*r,height:2*s}),t.canvas[p](n),o},Et=function(t,e,i,r,s,n){var a=Ot("group"),o=Ot("image");o.style;a.style.cssText="position:absolute;left:0;top:0;width:"+t.width+"px;height:"+t.height+"px",a.coordsize=It,a.coordorigin=t.coordorigin,o.src=e,a[p](o);var h=new Tt(o,a,t);return h.type="image",h.attrs.src=e,h.attrs.x=i,h.attrs.y=r,h.attrs.w=s,h.attrs.h=n,h.setBox({x:i,y:r,width:s,height:n}),t.canvas[p](a),h},Pt=function(e,i,r,s){var n=Ot("group"),a=Ot("shape"),o=a.style,h=Ot("path"),c=(h.style,Ot("textpath"));n.style.cssText="position:absolute;left:0;top:0;width:"+e.width+"px;height:"+e.height+"px",n.coordsize=It,n.coordorigin=e.coordorigin,h.v=t.format("m{0},{1}l{2},{1}",q(10*i),q(10*r),q(10*i)+1),h.textpathok=!0,o.width=e.width,o.height=e.height,c.string=s+y,c.on=!0,a[p](c),a[p](h),n[p](a);var l=new Tt(c,n,e);return l.shape=a,l.textpath=h,l.type="text",l.attrs.text=s,l.attrs.x=i,l.attrs.y=r,l.attrs.w=1,l.attrs.h=1,Ct(l,{font:D.font,stroke:"none",fill:"#000"}),l.setBox(),e.canvas[p](n),l},Wt=function(t,e){var i=this.canvas.style;return t==+t&&(t+="px"),e==+e&&(e+="px"),i.width=t,i.height=e,i.clip="rect(0 "+t+" "+e+" 0)",this};var Ot;c.createStyleSheet().addRule(".rvml","behavior:url(#default#VML)");try{!c.namespaces.rvml&&c.namespaces.add("rvml","urn:schemas-microsoft-com:vml"),Ot=function(t){return c.createElement("<rvml:"+t+' class="rvml">')}}catch(Xt){Ot=function(t){return c.createElement("<"+t+' xmlns="urn:schemas-microsoft.com:vml" class="rvml">')}}Rt=function(){var e=dt[d](0,arguments),i=e.container,r=e.height,s=e.width,n=e.x,a=e.y;if(!i)throw new Error("VML container not found.");var o=new u,h=o.canvas=c.createElement("div"),l=h.style;return n=n||0,a=a||0,s=s||512,r=r||342,s==+s&&(s+="px"),r==+r&&(r+="px"),o.width=1e3,o.height=1e3,o.coordsize=1e3*Vt+x+1e3*Vt,o.coordorigin="0 0",o.span=c.createElement("span"),o.span.style.cssText="position:absolute;left:-9999em;top:-9999em;padding:0;margin:0;line-height:1;display:inline;",h[p](o.span),l.cssText=t.format("width:{0};height:{1};display:inline-block;position:relative;clip:rect(0 {0} {1} 0);overflow:hidden",s,r),1==i?(c.body[p](h),l.left=n+"px",l.top=a+"px",l.position="absolute"):i.firstChild?i.insertBefore(h,i.firstChild):i[p](h),gt.call(o,o,t.fn),o},u[o].clear=function(){this.canvas.innerHTML=y,this.span=c.createElement("span"),this.span.style.cssText="position:absolute;left:-9999em;top:-9999em;padding:0;margin:0;line-height:1;display:inline;",this.canvas[p](this.span),this.bottom=this.top=null},u[o].remove=function(){this.canvas.parentNode.removeChild(this.canvas);for(var t in this)this[t]=bt(t);return!0}}!/^Apple|^Google/.test(l.navigator.vendor)||l.navigator.userAgent.indexOf("Version/4.0")+1&&"iP"!=l.navigator.platform.slice(0,2)?u[o].safari=function(){}:u[o].safari=function(){var t=this.rect(-99,-99,this.width+99,this.height+99);l.setTimeout(function(){t.remove()})};for(var $t=function(){this.returnValue=!1},Ut=function(){return this.originalEvent.preventDefault()},Qt=function(){this.cancelBubble=!0},Zt=function(){return this.originalEvent.stopPropagation()},Jt=function(){return c.addEventListener?function(t,e,i,r){var s=function(s){if(v&&b[h](e))for(var n=0,a=s.targetTouches&&s.targetTouches.length;a>n;n++)if(s.targetTouches[n].target==t){var o=s;s=s.targetTouches[n],s.originalEvent=o,s.preventDefault=Ut,s.stopPropagation=Zt;break}return i.call(r,s)};return t.addEventListener(e,s,!1),function(){return t.removeEventListener(e,s,!1),!0}}:c.attachEvent?function(t,e,i,r){var s=function(t){return t=t||l.event,t.preventDefault=t.preventDefault||$t,t.stopPropagation=t.stopPropagation||Qt,i.call(r,t)};t.attachEvent("on"+e,s);var n=function(){return t.detachEvent("on"+e,s),!0};return n}:void 0}(),Kt=k[S];Kt--;)!function(e){t[e]=Tt[o][e]=function(i){if(t.is(i,"function")){var r=v&&b[e]?b[e]:e;this.events=this.events||[],this.events.push({name:e,f:i,unbind:Jt(this.shape||this.node||c,r,i,this)})}return this},t["un"+e]=Tt[o]["un"+e]=function(t){for(var i=this.events,r=i[S];r--;)if(i[r].name==e&&i[r].f==t)return i[r].unbind(),i.splice(r,1),!i.length&&delete this.events,this;return this}}(k[Kt]);Tt[o].hover=function(t,e){return this.mouseover(t).mouseout(e)},Tt[o].unhover=function(t,e){return this.unmouseover(t).unmouseout(e)},Tt[o].drag=function(t,e,i){this._drag={};var r=this.mousedown(function(t){(t.originalEvent?t.originalEvent:t).preventDefault(),this._drag.x=t.clientX,this._drag.y=t.clientY,this._drag.id=t.identifier,e&&e.call(this,t.clientX,t.clientY),Raphael.mousemove(s).mouseup(n)}),s=function(e){var i=e.clientX,s=e.clientY;if(v){for(var n,a=e.touches.length;a--;)if(n=e.touches[a],n.identifier==r._drag.id){i=n.clientX,s=n.clientY,(e.originalEvent?e.originalEvent:e).preventDefault();break}}else e.preventDefault();t&&t.call(r,i-r._drag.x,s-r._drag.y,i,s)},n=function(){r._drag={},Raphael.unmousemove(s).unmouseup(n),i&&i.call(r)};return this},u[o].circle=function(t,e,i){return Ht(this,t||0,e||0,i||0)},u[o].rect=function(t,e,i,r,s){return Gt(this,t||0,e||0,i||0,r||0,s||0)},u[o].ellipse=function(t,e,i,r){return At(this,t||0,e||0,i||0,r||0)},u[o].path=function(e){return e&&!t.is(e,N)&&!t.is(e[0],T)&&(e+=y),_t(t.format[d](t,arguments),this)},u[o].image=function(t,e,i,r,s){return Et(this,t||"about:blank",e||0,i||0,r||0,s||0)},u[o].text=function(t,e,i){return Pt(this,t||0,e||0,i||y)},u[o].set=function(t){return arguments[S]>1&&(t=Array[o].splice.call(arguments,0,arguments[S])),new le(t)},u[o].setSize=Wt,u[o].top=u[o].bottom=null,u[o].raphael=t,Tt[o].resetScale=function(){return this.removed?this:(this._.sx=1,this._.sy=1,void(this.attrs.scale="1 1"))},Tt[o].scale=function(t,e,i,s){if(this.removed)return this;if(null==t&&null==e)return{x:this._.sx,y:this._.sy,toString:r};e=e||t,!+e&&(e=t);var n,a,o=this.attrs;if(0!=t){var h=this.getBBox(),c=h.x+h.width/2,l=h.y+h.height/2,f=t/this._.sx,u=e/this._.sy;i=+i||0==i?i:c,s=+s||0==s?s:l;var p=~~(t/z.abs(t)),d=~~(e/z.abs(e)),v=this.node.style,m=i+(c-i)*f,k=s+(l-s)*u;switch(this.type){case"rect":case"image":var b=o.width*p*f,_=o.height*d*u;this.attr({height:_,r:o.r*C(p*f,d*u),width:b,x:m-b/2,y:k-_/2});break;case"circle":case"ellipse":this.attr({rx:o.rx*p*f,ry:o.ry*d*u,r:o.r*C(p*f,d*u),cx:m,cy:k});break;case"text":this.attr({x:m,y:k});break;case"path":for(var M=nt(o.path),B=!0,N=0,T=M[S];T>N;N++){var H=M[N],G=Y.call(H[0]);if("M"!=G||!B)if(B=!1,"A"==G)H[M[N][S]-2]*=f,H[M[N][S]-1]*=u,H[1]*=p*f,H[2]*=d*u,H[5]=+!(p+d?!+H[5]:+H[5]);else if("H"==G)for(var A=1,E=H[S];E>A;A++)H[A]*=f;else if("V"==G)for(A=1,E=H[S];E>A;A++)H[A]*=u;else for(A=1,E=H[S];E>A;A++)H[A]*=A%2?f:u}var P=rt(M);n=m-P.x-P.width/2,a=k-P.y-P.height/2,M[0][1]+=n,M[0][2]+=a,this.attr({path:M})}this.type in{text:1,image:1}&&(1!=p||1!=d)?this.transformations?(this.transformations[2]="scale("[g](p,",",d,")"),this.node[j]("transform",this.transformations[w](x)),n=-1==p?-o.x-(b||0):o.x,a=-1==d?-o.y-(_||0):o.y,this.attr({x:n,y:a}),o.fx=p-1,o.fy=d-1):(this.node.filterMatrix=F+".Matrix(M11="[g](p,", M12=0, M21=0, M22=",d,", Dx=0, Dy=0, sizingmethod='auto expand', filtertype='bilinear')"),v.filter=(this.node.filterMatrix||y)+(this.node.filterOpacity||y)):this.transformations?(this.transformations[2]=y,this.node[j]("transform",this.transformations[w](x)),o.fx=0,o.fy=0):(this.node.filterMatrix=y,v.filter=(this.node.filterMatrix||y)+(this.node.filterOpacity||y)),o.scale=[t,e,i,s][w](x),this._.sx=t,this._.sy=e}return this},Tt[o].clone=function(){if(this.removed)return null;var t=this.attr();return delete t.scale,delete t.translation,this.paper[this.type]().attr(t)};var te=e(function(e,i,r,s,n,a,o,h,c){for(var l,f=0,u=0;1.001>u;u+=.001){var p=t.findDotsAtSegment(e,i,r,s,n,a,o,h,u);if(u&&(f+=E(E(l.x-p.x,2)+E(l.y-p.y,2),.5)),f>=c)return p;l=p}}),ee=function(e,i){return function(r,s,n){r=ut(r);for(var a,o,h,c,l,f="",u={},p=0,d=0,g=r.length;g>d;d++){if(h=r[d],"M"==h[0])a=+h[1],o=+h[2];else{if(c=ie(a,o,h[1],h[2],h[3],h[4],h[5],h[6]),p+c>s){if(i&&!u.start){if(l=te(a,o,h[1],h[2],h[3],h[4],h[5],h[6],s-p),f+=["C",l.start.x,l.start.y,l.m.x,l.m.y,l.x,l.y],n)return f;u.start=f,f=["M",l.x,l.y+"C",l.n.x,l.n.y,l.end.x,l.end.y,h[5],h[6]][w](),p+=c,a=+h[5],o=+h[6];continue}if(!e&&!i)return l=te(a,o,h[1],h[2],h[3],h[4],h[5],h[6],s-p),{x:l.x,y:l.y,alpha:l.alpha}}p+=c,a=+h[5],o=+h[6]}f+=h}return u.end=f,l=e?p:i?u:t.findDotsAtSegment(a,o,h[1],h[2],h[3],h[4],h[5],h[6],1),l.alpha&&(l={x:l.x,y:l.y,alpha:l.alpha}),l}},ie=e(function(t,e,i,r,s,n,a,o){for(var h={x:0,y:0},c=0,l=0;1.01>l;l+=.01){var f=lt(t,e,i,r,s,n,a,o,l);l&&(c+=E(E(h.x-f.x,2)+E(h.y-f.y,2),.5)),h=f}return c}),re=ee(1),se=ee(),ne=ee(0,1);Tt[o].getTotalLength=function(){return"path"==this.type?this.node.getTotalLength?this.node.getTotalLength():re(this.attrs.path):void 0},Tt[o].getPointAtLength=function(t){return"path"==this.type?se(this.attrs.path,t):void 0},Tt[o].getSubpath=function(t,e){if("path"==this.type){if(z.abs(this.getTotalLength()-e)<1e-6)return ne(this.attrs.path,t).end;var i=ne(this.attrs.path,e,1);return t?ne(i,t).end:i}},t.easing_formulas={linear:function(t){return t},"<":function(t){return E(t,3)},">":function(t){return E(t-1,3)+1},"<>":function(t){return t=2*t,1>t?E(t,3)/2:(t-=2,(E(t,3)+2)/2)},backIn:function(t){var e=1.70158;return t*t*((e+1)*t-e)},backOut:function(t){t-=1;var e=1.70158;return t*t*((e+1)*t+e)+1},elastic:function(t){if(0==t||1==t)return t;var e=.3,i=e/4;return E(2,-10*t)*z.sin((t-i)*(2*z.PI)/e)+1},bounce:function(t){var e,i=7.5625,r=2.75;return 1/r>t?e=i*t*t:2/r>t?(t-=1.5/r,e=i*t*t+.75):2.5/r>t?(t-=2.25/r,e=i*t*t+.9375):(t-=2.625/r,e=i*t*t+.984375),e}};var ae={length:0},oe=function(){var e=+new Date;for(var i in ae)if("length"!=i&&ae[h](i)){var r=ae[i];if(r.stop||r.el.removed){delete ae[i],ae[S]--;continue}var s,n=e-r.start,a=r.ms,o=r.easing,c=r.from,f=r.diff,u=r.to,p=r.t,d=r.prev||0,g=r.el,v=r.callback,m={};if(a>n){var k=t.easing_formulas[o]?t.easing_formulas[o](n/a):n/a;for(var b in c)if(c[h](b)){switch(O[b]){case"along":s=k*a*f[b],u.back&&(s=u.len-s);var _=se(u[b],s);g.translate(f.sx-f.x||0,f.sy-f.y||0),f.x=_.x,f.y=_.y,g.translate(_.x-f.sx,_.y-f.sy),u.rot&&g.rotate(f.r+_.alpha,_.x,_.y);break;case B:s=+c[b]+k*a*f[b];break;case"colour":s="rgb("+[he(q(c[b].r+k*a*f[b].r)),he(q(c[b].g+k*a*f[b].g)),he(q(c[b].b+k*a*f[b].b))][w](",")+")";break;case"path":s=[];for(var z=0,M=c[b][S];M>z;z++){s[z]=[c[b][z][0]];for(var C=1,N=c[b][z][S];N>C;C++)s[z][C]=+c[b][z][C]+k*a*f[b][z][C];s[z]=s[z][w](x)}s=s[w](x);break;case"csv":switch(b){case"translation":var T=f[b][0]*(n-d),H=f[b][1]*(n-d);p.x+=T,p.y+=H,s=T+x+H;break;case"rotation":s=+c[b][0]+k*a*f[b][0],c[b][1]&&(s+=","+c[b][1]+","+c[b][2]);break;case"scale":s=[+c[b][0]+k*a*f[b][0],+c[b][1]+k*a*f[b][1],2 in u[b]?u[b][2]:y,3 in u[b]?u[b][3]:y][w](x);break;case"clip-rect":for(s=[],z=4;z--;)s[z]=+c[b][z]+k*a*f[b][z]}}m[b]=s}g.attr(m),g._run&&g._run.call(g)}else u.along&&(_=se(u.along,u.len*!u.back),g.translate(f.sx-(f.x||0)+_.x-f.sx,f.sy-(f.y||0)+_.y-f.sy),u.rot&&g.rotate(f.r+_.alpha,_.x,_.y)),(p.x||p.y)&&g.translate(-p.x,-p.y),u.scale&&(u.scale+=y),g.attr(u),delete ae[i],ae[S]--,g.in_animation=null,t.is(v,"function")&&v.call(g);r.prev=n}t.svg&&g&&g.paper&&g.paper.safari(),ae[S]&&l.setTimeout(oe)},he=function(t){return M(C(t,255),0)},ce=function(t,e){if(null==t)return{x:this._.tx,y:this._.ty,toString:r};switch(this._.tx+=+t,this._.ty+=+e,this.type){case"circle":case"ellipse":this.attr({cx:+t+this.attrs.cx,cy:+e+this.attrs.cy});break;case"rect":case"image":case"text":this.attr({x:+t+this.attrs.x,y:+e+this.attrs.y});break;case"path":var i=nt(this.attrs.path);i[0][1]+=+t,i[0][2]+=+e,this.attr({path:i})}return this};Tt[o].animateWith=function(t,e,i,r,s){return ae[t.id]&&(e.start=ae[t.id].start),this.animate(e,i,r,s)},Tt[o].animateAlong=s(),Tt[o].animateAlongBack=s(1),Tt[o].onAnimation=function(t){return this._run=t||0,this},Tt[o].animate=function(e,i,r,s){(t.is(r,"function")||!r)&&(s=r||null);var a={},o={},c={};for(var l in e)if(e[h](l)&&O[h](l))switch(a[l]=this.attr(l),null==a[l]&&(a[l]=D[l]),o[l]=e[l],O[l]){case"along":var f=re(e[l]),u=se(e[l],f*!!e.back),p=this.getBBox();c[l]=f/i,c.tx=p.x,c.ty=p.y,c.sx=u.x,c.sy=u.y,o.rot=e.rot,o.back=e.back,o.len=f,e.rot&&(c.r=I(this.rotate())||0);break;case B:c[l]=(o[l]-a[l])/i;break;case"colour":a[l]=t.getRGB(a[l]);var d=t.getRGB(o[l]);c[l]={r:(d.r-a[l].r)/i,g:(d.g-a[l].g)/i,b:(d.b-a[l].b)/i};break;case"path":var g=ut(a[l],o[l]);a[l]=g[0];var v=g[1];c[l]=[];for(var x=0,k=a[l][S];k>x;x++){c[l][x]=[0];for(var b=1,w=a[l][x][S];w>b;b++)c[l][x][b]=(v[x][b]-a[l][x][b])/i}break;case"csv":var _=(e[l]+y)[m](n),z=(a[l]+y)[m](n);switch(l){case"translation":a[l]=[0,0],c[l]=[_[0]/i,_[1]/i];break;case"rotation":a[l]=z[1]==_[1]&&z[2]==_[2]?z:[0,_[1],_[2]],c[l]=[(_[0]-a[l][0])/i,0,0];break;case"scale":e[l]=_,a[l]=(a[l]+y)[m](n),c[l]=[(_[0]-a[l][0])/i,(_[1]-a[l][1])/i,0,0];break;case"clip-rect":for(a[l]=(a[l]+y)[m](n),c[l]=[],x=4;x--;)c[l][x]=(_[x]-a[l][x])/i}o[l]=_}return this.stop(),this.in_animation=1,ae[this.id]={start:e.start||+new Date,ms:i,easing:r,from:a,diff:c,to:o,el:this,callback:s,t:{x:0,y:0}},1==++ae[S]&&oe(),this},Tt[o].stop=function(){return ae[this.id]&&ae[S]--,delete ae[this.id],this},Tt[o].translate=function(t,e){return this.attr({translation:t+" "+e})},Tt[o][H]=function(){return"Raphaël’s object"},t.ae=ae;var le=function(t){if(this.items=[],this[S]=0,this.type="set",t)for(var e=0,i=t[S];i>e;e++)!t[e]||t[e].constructor!=Tt&&t[e].constructor!=le||(this[this.items[S]]=this.items[this.items[S]]=t[e],this[S]++)};le[o][P]=function(){for(var t,e,i=0,r=arguments[S];r>i;i++)t=arguments[i],!t||t.constructor!=Tt&&t.constructor!=le||(e=this.items[S],this[e]=this.items[e]=t,this[S]++);return this},le[o].pop=function(){return delete this[this[S]--],this.items.pop()};for(var fe in Tt[o])Tt[o][h](fe)&&(le[o][fe]=function(t){return function(){for(var e=0,i=this.items[S];i>e;e++)this.items[e][t][d](this.items[e],arguments);return this}}(fe));le[o].attr=function(e,i){if(e&&t.is(e,T)&&t.is(e[0],"object"))for(var r=0,s=e[S];s>r;r++)this.items[r].attr(e[r]);else for(var n=0,a=this.items[S];a>n;n++)this.items[n].attr(e,i);return this},le[o].animate=function(e,i,r,s){(t.is(r,"function")||!r)&&(s=r||null);var n,a,o=this.items[S],h=o,c=this;for(s&&(a=function(){!--o&&s.call(c)}),r=t.is(r,N)?r:a,n=this.items[--h].animate(e,i,r,a);h--;)this.items[h].animateWith(n,e,i,r,a);return this},le[o].insertAfter=function(t){for(var e=this.items[S];e--;)this.items[e].insertAfter(t);return this},le[o].getBBox=function(){for(var t=[],e=[],i=[],r=[],s=this.items[S];s--;){var n=this.items[s].getBBox();t[P](n.x),e[P](n.y),i[P](n.x+n.width),r[P](n.y+n.height)}return t=C[d](0,t),e=C[d](0,e),{x:t,y:e,width:M[d](0,i)-t,height:M[d](0,r)-e}},le[o].clone=function(t){t=new le;for(var e=0,i=this.items[S];i>e;e++)t[P](this.items[e].clone());return t},t.registerFont=function(t){if(!t.face)return t;this.fonts=this.fonts||{};var e={w:t.w,face:{},glyphs:{}},i=t.face["font-family"];for(var r in t.face)t.face[h](r)&&(e.face[r]=t.face[r]);if(this.fonts[i]?this.fonts[i][P](e):this.fonts[i]=[e],!t.svg){e.face["units-per-em"]=V(t.face["units-per-em"],10);for(var s in t.glyphs)if(t.glyphs[h](s)){var n=t.glyphs[s];if(e.glyphs[s]={w:n.w,k:{},d:n.d&&"M"+n.d[X](/[mlcxtrv]/g,function(t){return{l:"L",c:"C",x:"z",t:"m",r:"l",v:"c"}[t]||"M"})+"z"},n.k)for(var a in n.k)n[h](a)&&(e.glyphs[s].k[a]=n.k[a])}}return t},u[o].getFont=function(e,i,r,s){if(s=s||"normal",r=r||"normal",i=+i||{normal:400,bold:700,lighter:300,bolder:800}[i]||400,t.fonts){var n=t.fonts[e];if(!n){var a=new RegExp("(^|\\s)"+e[X](/[^\w\d\s+!~.:_-]/g,y)+"(\\s|$)","i");for(var o in t.fonts)if(t.fonts[h](o)&&a.test(o)){n=t.fonts[o];break}}var c;if(n)for(var l=0,f=n[S];f>l&&(c=n[l],c.face["font-weight"]!=i||c.face["font-style"]!=r&&c.face["font-style"]||c.face["font-stretch"]!=s);l++);return c}},u[o].print=function(e,i,r,s,a,o){o=o||"middle";var h,c=this.set(),l=(r+y)[m](y),f=0;if(t.is(s,r)&&(s=this.getFont(s)),s){h=(a||16)/s.face["units-per-em"];for(var u=s.face.bbox.split(n),p=+u[0],d=+u[1]+("baseline"==o?u[3]-u[1]+ +s.face.descent:(u[3]-u[1])/2),g=0,v=l[S];v>g;g++){var x=g&&s.glyphs[l[g-1]]||{},k=s.glyphs[l[g]];f+=g?(x.w||s.w)+(x.k&&x.k[l[g]]||0):0,k&&k.d&&c[P](this.path(k.d).attr({fill:"#000",stroke:"none",translation:[f,0]}))}c.scale(h,h,p,d).translate(e-p,i-d)}return c};var ue=/\{(\d+)\}/g;return t.format=function(e,i){var r=t.is(i,T)?[0][g](i):arguments;return e&&t.is(e,N)&&r[S]-1&&(e=e[X](ue,function(t,e){return null==r[++e]?y:r[e]})),e||y},t.ninja=function(){return f.was?Raphael=f.is:delete Raphael,t},t.el=Tt[o],t}();